<!-- Published by Fog Creek Software CityDesk CQSXKDXJHSYDVISL/5193B323/275 -->


<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>IUnknown.com - December 2002 Weblog Archives</title>
<link rel="stylesheet" href="../iunknown.css">
<script type="text/javascript" src="http://www.haloscan.com/load.php?user=jlam"></script>
<script language="javascript">
  function HaloScan2(id) { 
    location.href='http://www.haloscan.com/comments.php?user=jlam&comment='+id;
  }
</script>
</head>
<BODY>
  <a href="http://www.iunknown.com"><img src="../Images/iunknown.png" width="350" height="60" border="0"></a> 
  <table width="700px" border="0" cellspacing="10">
    <tr>
      <td width="76%" valign="top">
        <p><span class="entryTitle">December 2002 Archives</span></p>
         
          <div class="entryTitle">Some more TiBook observations</div>
          <div class="entryDate">2002-12-31</div>
          <p><P>So I've been using my TiBook all afternoon. In no particular order, here are a few more observations / questions.</P>
<P>I spent a bunch of time running off of the battery to see how good the battery life is. I ran it for about 2 hours, but I didn't do anything particularly taxing on the machine. I spent a lot of time just reading stuff. The battery gauge still reported 2.5 hours of power remaining.</P>
<P>The boot time of the TiBook is not particularly impressive since&nbsp;I'm used to Windows XP boot speeds. On the other hand, I love how quickly it goes in and out of suspend mode. The glowing suspend light is also a nice touch.</P>
<P>I've been trying to get Entourage talking to my Exchange server. So far getting it to pick up email via IMAP4 has been a no-op. But getting Exchange to let me send email is another story. I've been stuck for the past hour or so with "SendAs permission denied" errors. I'm not entirely sure what that means, and have been tweaking ACL's on my Exchange server with no success.</P>
<P>I found <A href="http://www.macnn.com/news.php?id=16327">this link to an article on MacNN</A>, which seems to indicate that MS will support Exchange from Entourage sometime in the future. It can't be too soon for me ...</P>
<P>I'm getting used to the font smoothing on OS X. It's not ClearType, but your eyes do adjust. What I have realized is that ClearType does an incredible job with small font sizes. With OS X, you simply cannot turn on font smoothing for small font sizes&nbsp;since it makes the fonts <EM>much </EM>harder to read.</P>
<P>I'm using Microsoft's Remote Desktop Connection utility to manage my other Windows PC's. So far it has worked just as good as the RDC on XP.</P>
<P>I downloaded the Apple Developer tools this afternoon. I've installed them, but haven't had a chance to try writing Hello, World yet. Hopefully tomorrow sometime after I recover from New Years.</P>
<P>I figured out the problem with MSN Messenger 3.0 on OS X - it doesn't have the same defaults as MSN Messenger 5.0 on XP. I now have my contacts organized by category again.</P>
<P>I'm (slowly) learning the keyboard shortcuts on OS X. Does anyone know if&nbsp;it&nbsp;is possible to run the menus via the keyboard, much like I can under Windows?</P>
<P>I adjusted my monitor's gamma to be 2.2 just like Windows. I'm doing this so that any images I manipulate on my TiBook will look the same way that they do to Windows users. Is this what other Mac folks do as well? Or do they stick to 1.8?</P>
<P>I took a quick peek at iPhoto. So far I'm really liking the way the UI works, particularly for assigning categories to individual photographs. I'll see how it does when I copy the rest of my photos over to my TiBook.</P>
<P>I managed to connect to my Windows boxes using SMB earlier. That was a very painless process. I simply connected, and added my windows logon to my OS X key chain. </P>
<P>While doing my  SMB experiments, I noticed something interesting. When I've got my AirPort card enabled AND I am also plugged into my wired Ethernet network, OS X does NOT automatically select the fastest connection. Windows XP does do a better job in this area. However, if I disable my AirPort card, OS X will use the wired connection just fine.</P>
<P>I'm now copying all of my photos over to my TiBook. That's about 4.5GB of data. One thing that is really nice is that Finder sets up for copying large numbers of files MUCH better than Explorer does in XP. I abandoned file copying using Explorer under Windows a long time ago in favor of Robocopy.</P>
<P>Well, it's almost time to head out for New Years.&nbsp;I hope all of you out there have a safe and happy New Year!</P></p>
          <p><a href="../Weblog/SomemoreTiBookobservation.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Some more TiBook observations" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/SomemoreTiBookobservation.html');"><script type="text/javascript">postCount('Weblog/SomemoreTiBookobservation.html');</script></a></p>
         
          <div class="entryTitle">My TiBook is here!</div>
          <div class="entryDate">2002-12-31</div>
          <p><P>It arrived about an hour ago. Here's some really quick initial impressions:</P>
<UL>
<LI>It looks really BEAUTIFUL.</LI>
<LI>It's got that new laptop smell.</LI>
<LI>The AirPort setup was seamless. It connected with my encrypted 802.11b network at home with no problems whatsoever.</LI>
<LI>The installation / automatic software update feature worked flawlessly as well. I'm now happily running OS 10.2.3 on my TiBook.</LI>
<LI>Installing Office X (thanks Anson!) was equally seamless. I like the fact that I'm running under a standard user account and that software installers automatically prompt me for a password before installation. I don't know if I'm an administrator or not (I suspect that I am?) but there's a lot more for me to read about before I'm truly comfortable with my TiBook.</LI>
<LI>I just finished an MSN messenger chat with a friend. I really like the fact that the MSN messenger icon jumps up and down on the&nbsp;dock when a new message arrives. That's so much cooler than flashing icons on the taskbar :)</LI>
<LI>I'm bummed that my MSN Messenger contact categories didn't migrate.</LI>
<LI>I hate touchpads so I plugged in my wireless MS optical mouse. That worked fine out of the box, both the scrolling wheel and the right mouse button. I just downloaded the MS Intellipoint drivers, so I'll see if there's much of a difference there.</LI>
<LI>I'm now downloading Windows Media Player for OS X since all of my music is in WMA format. I want to get an iPod, though so I'm contemplating re-ripping as MP3 ...</LI>
<LI>I'm really missing ClearType, though. When looking at the NY Times web site on both of my T23 and my TiBook, you can see a really big difference. After looking at my TiBook for a couple of hours now, though my eyes are beginning to make the adjustment.</LI>
<LI>It doesn't fit in my TUMI knapsack, though. I need to go find a new bag this afternoon.</LI></UL></p>
          <p><a href="../Weblog/MyTiBookishere.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to My TiBook is here!" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/MyTiBookishere.html');"><script type="text/javascript">postCount('Weblog/MyTiBookishere.html');</script></a></p>
         
          <div class="entryTitle">Spotted: an insightful comment on /.</div>
          <div class="entryDate">2002-12-29</div>
          <p><P>I find that most of the time, reading /. is like watching a <A href="http://www.jerryspringer.com/">Jerry Springer</A> episode. It is so easy to get caught up in reading the religious rhetoric that so often permeates that medium. Today, <A href="http://staff.develop.com/jasonw/weblog/2002/12/29.html#a115">Jason Whittington posted a pointer</A> to a <A href="http://slashdot.org/articles/02/12/29/1349230.shtml?tid=109">/. entry describing a job post at MS</A> for a dev to work on the next-gen Windows command line shell. </P>
<P>What surprised me was <A href="http://slashdot.org/comments.pl?sid=49220&amp;cid=4977085">reading this post</A>:</P>
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px">
<P>"... This sounds to me very much like Microsoft is having a good hard look at what Linux/open source does well, and copying it. Fair game - we've copied them plenty, and are continuing to do so. We could well find that Windows moves on a lot thanks to the competition offered by Linux: will we be able to keep up, and keep pushing things forward to? I think so. I hope so. But the era of kicking Windows for being unstable is already over, insecure looks on its way out (I read coders can get fired now for writing insecure code at redmond), and soon traditional UNIX strongholds like good remote administration may no longer be unique either. </P>
<P>We have our own stupid problems to fix too of course. Lack of a decent object model? Lack of binary portability? That one is killing us at the moment, and there is no good solution (as I'm finding out as part of my project). We really really don't want to have to setup build farms (a binary for every distro version), that'd suck. But it seems the very nature of Linux itself dictates it. Now Windows is moving to<NOBR> <WBR></NOBR>.NET they are tidying up a lot of these problems, while we're still playing catchup. 
<P>It's certainly going to get interesting soon. Microsoft have sort of woken up."</P></BLOCKQUOTE>
<P dir=ltr>It's so nice to be able to read a nice, reasoned argument on /. for a change. Personally, I'm interested in seeing how Mac OS X handles the binary portability problem <A href="http://slashdot.org/comments.pl?sid=49220&amp;cid=4977669">that seems to be endemic to C/C++ in the *nix world</A> as it continues to evolve.</P></p>
          <p><a href="../Weblog/Spottedaninsightfulcommen.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Spotted: an insightful comment on /." alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Spottedaninsightfulcommen.html');"><script type="text/javascript">postCount('Weblog/Spottedaninsightfulcommen.html');</script></a></p>
         
          <div class="entryTitle">Holiday reflections</div>
          <div class="entryDate">2002-12-25</div>
          <p><P>I'm writing this piece after my family has gone to bed on Christmas eve. I'm in a rather reflective mood, so I thought that I'd take a moment to look back over the previous year. </P>
<P>Earlier this week, I noticed that Dan Dunham has written a number of interesting pieces on his <A href="http://coding.strangesearch.net">StrangeCoding weblog</A> which reflect back upon lessons that he has learned in the previous year. I loved the idea (and his entries), so I thought I'd contribute my $.02 here.</P>
<P>The most important thing that I learned this year was the importance of always keeping an open mind. While this should be obvious, it certainly wasn't obvious to me earlier this year. Let me explain.</P>
<P>For the past few years, I was a COM/C++ dev who (naturally) switched to being&nbsp;a CLR/C# dev. Both of those two communities that I belong to are highly Microsoft-centric. They, like any other type of community, tend to be self-referential. Folks that hang out in those communities tend to have similar opinions, and tend to exclude folks who have different opinions (perhaps not intentionally, but the net effect is the same - folks with different opinions tire of the fight and move elsewhere). </P>
<P>My participation in those communities shaped much of my world-view on software development. I submit as an example <A href="../Weblog/fog0000000099.html">my belief in the superiority of strongly typed languages</A>. I was responding to a piece that <A href="http://www.treedragon.com/ged/map/ti/new.htm">Dave McCusker</A> wrote that was <A href="http://www.treedragon.com/ged/map/ti/newFeb02.htm#06feb02-box">critical of strong typing </A>(and by extension to WSDL, but I won't go there right now). In the spirit of Sam Gentile's <A href="http://radio.weblogs.com/0105852/stories/2002/12/21/comInteropNotFundamentallyFlawedButHard.html">recent public retraction</A> on his strongly worded statement about <A href="http://radio.weblogs.com/0105852/stories/2002/06/08/isComInteropFundamentallyFlawed.html">COM interop being fundamentally broken</A>, I would like to say that I now realize how wrong I was to believe that strongly typed languages were <EM>inherently </EM>superior. Dave is quite correct in asserting that strongly typed languages can be viewed as a crutch. I also realize that I <A href="http://www.treedragon.com/ged/map/ti/newFeb02.htm#09feb02">had offended Dave with my strongly worded biases</A>. For that I would like to publicly apologize.</P>
<P>One thing that has really helped me in my personal development this year are some friends who live outside of those communities. They tend to poke and prod me at different times to try and think differently. I am rather stubborn though, and have successfully resisted their efforts until this year. Fortunately for me, this year has probably been one of the most important years of my professional development, and this was all due to a few key events.</P>
<P>The first event happened about a year ago, was when I first got my method interception prototype up and running for the CLR. That lead me on a several-month long trip into the Aspect-Oriented Programming community, which culminated in my presentation of my work at <A href="../Weblog/HellofromAOSD2002.html">the AOSD 2002 conference</A>. I learned a lot of interesting lessons by participating in that community. I learned about the problem space that AOP was trying to solve. I subsequently got very excited over the prospects of AOP as a general-purpose software development technique. And and then there was the eventual letdown when I realized that the development world probably isn't ready to handle that level of abstraction. It was an interesting roller-coaster ride emotionally, but one that I would do again because of the lessons that I had learned by taking it. I met a lot of really smart people in both the AOP and the <A href="http://www.aisto.com/roeder/Ip/">Intentional Programming</A> worlds, and am <EM>so much more better off</EM>&nbsp;because of these experiences.</P>
<P>The second event happened a few months ago, <A href="../Weblog/Whenlessismore.html">when a friend convinced me that code-generation was actually a good thing</A>. My experience with "wizards" in VC++ had almost convinced me otherwise, but by keeping an open mind, I was able to generate some very interesting software using my code generation tools. I am <A href="../Weblog/Livingwithcodegeneration.html">now a convert to code generation</A> as a means of <EM>manageably</EM> working at higher levels of abstraction. It's not applicable everywhere, but it is extremely useful in certain types of projects, much like Yacc / Bison&nbsp;and <A href="../Weblog/TerenceParrrocks.html">ANTLR</A> are extremely useful tools whenever you need to do lexical parsing.</P>
<P>The third event hopefully begins sometime late this week or early next week when my beauty new <A href="../Weblog/MerryChristmastome....html">TiBook G4 867</A> arrives. This marks the beginning of my foray into an entirely new world of Mac OS X, and the Objective C programming language. My primary goal in getting the TiBook is to learn how the Mac community thinks about software development, and how it differs from the way the Windows community thinks about software development.&nbsp;I think it will be a great experience, and am chomping at the bit to further expand my software horizons.</P>
<P>Finally, for anyone who has actually read all the way down to the end of this rambling self-reflection essay, I would like to wish you a Merry Christmas and I hope you all have a great holiday beholden with many cool geek presents (I just got this great binary clock from the fine folks at <A href="http://www.wintellect.com">Wintellect</A>)! And I hope that my experiences might convince some of you to try something radically different this upcoming year. If so, I'd love to hear about it!</P></p>
          <p><a href="../Weblog/Keepinganopenmind.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Holiday reflections" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Keepinganopenmind.html');"><script type="text/javascript">postCount('Weblog/Keepinganopenmind.html');</script></a></p>
         
          <div class="entryTitle">So this is what my Powerbook will look like at the airport ...</div>
          <div class="entryDate">2002-12-18</div>
          <p><A href="http://ether.asu.edu/video/TiGutz/TiGutzBLUE.jpg">http://ether.asu.edu/video/TiGutz/TiGutzBLUE.jpg</A></p>
          <p><a href="../Weblog/SothisiswhatmyPowerbookwi.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to So this is what my Powerbook will look like at the airport ..." alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/SothisiswhatmyPowerbookwi.html');"><script type="text/javascript">postCount('Weblog/SothisiswhatmyPowerbookwi.html');</script></a></p>
         
          <div class="entryTitle">This looks like a really fun conference to attend</div>
          <div class="entryDate">2002-12-18</div>
          <p><P><A href="http://www.machack.com">http://www.machack.com</A></P>
<P>Check out this list of features:</P>
<UL>
<LI>Conference begins Thursday at 12:00am (yes, that's midnight)</LI>
<LI>Runs until folks fall asleep on Saturday</LI>
<LI>There are talks like "LEGO Mindstorms", "PPC assembly language" and "How to write a profiler"</LI>
<LI>Features a <A href="http://db.tidbits.com/getbits.acgi?tbart=06861">"Hack contest"</A> where the grand prize is an <A href="http://www.atarimagazines.com/v5n3/ExceptionsInterrupts.html">A-trap award</A></LI></UL></p>
          <p><a href="../Weblog/Thislookslikeareallyfunco.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to This looks like a really fun conference to attend" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Thislookslikeareallyfunco.html');"><script type="text/javascript">postCount('Weblog/Thislookslikeareallyfunco.html');</script></a></p>
         
          <div class="entryTitle">Does anyone use Newzcrawler?</div>
          <div class="entryDate">2002-12-18</div>
          <p><P>I just checked out <A href="http://radio.weblogs.com/0113297/">Jeremy Allaire's Radio blog</A>, and he pointed me to an interesting application called <A href="http://www.newzcrawler.com">Newzcrawler</A>. The screen shots look really good. It's got a pretty nice interface for managing my RSS feeds, and it also has the advantage of having built-in blog posting software. </P>
<P>I suspect that once <A href="../Weblog/MerryChristmastome....html">my Powerbook arrives </A>I'll be using Brent Simmons' most excellent looking <A href="http://ranchero.com/software/netnewswire/">NetNewsWire reader</A>, but I still need something for my Windows boxes. Any opinions out there?</P></p>
          <p><a href="../Weblog/DoesanyoneuseNewzcrawler.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Does anyone use Newzcrawler?" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/DoesanyoneuseNewzcrawler.html');"><script type="text/javascript">postCount('Weblog/DoesanyoneuseNewzcrawler.html');</script></a></p>
         
          <div class="entryTitle">Who's the Jeffrey Richter of the Mac OS X world?</div>
          <div class="entryDate">2002-12-17</div>
          <p><P>As my anticipation is building for the newest member of my (computer) family, I have a bunch of questions that I would love to have answered by an "Advanced Windows" style of book, but for Mac OS X. As a long-time Windows dev, I have a lot of questions to ask about OS X:</P>
<UL>
<LI>How is code packaged for execution and sharing (i.e. what are the equivalents of EXE's and DLL's in OS X)</LI>
<LI>Is OS X a shell on top of Free BSD? In other words, I'm assuming that it is the Unix definitions of processes and threads that I should be reading about?</LI>
<LI>While looking at some Emacs distributions for OS X, I noticed that there isn't binary compatibility between OS 10.1 and OS 10.2. Why did the executable file format change? Is there an equivalent of Portable Executable files in that world?</LI>
<LI>Should I learn Cocoa? Or are there other ways of programming the Aqua UI?</LI>
<LI>How do I interoperate between code written using Objective-C and classic C/C++?</LI></UL>
<P>So many questions and so few books. My local bookstore has very few books on Mac OS X programming. I'm hoping that the resources on Apple's Developer Connection web site will help jump start my experience.</P></p>
          <p><a href="../Weblog/WhostheJeffreyRichterofth.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Who's the Jeffrey Richter of the Mac OS X world?" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/WhostheJeffreyRichterofth.html');"><script type="text/javascript">postCount('Weblog/WhostheJeffreyRichterofth.html');</script></a></p>
         
          <div class="entryTitle">Merry Christmas to me ...</div>
          <div class="entryDate">2002-12-17</div>
          <p><P>You knew it had to happen someday, and it did last night. Since Carolyn's a school teacher, I was able to get the teacher discount from Apple (it's not much - maybe 5% but hey, it's better than nothing). This is a picture of what I ordered:</P>
<P><SPAN>
<TABLE align=center>
<CAPTION align=bottom>
<TBODY>
<TR>
<TD>
<CENTER><IMG height=180 alt=[Image] hspace=4 src="../Images/beautyshotpwrbookg4.png" width=250 border=0 cd:pos="6"></CENTER></TD></TR></TBODY></TABLE></SPAN>Now for the (abridged) geek specs: 
<UL>
<LI>
<DIV>G4 867MHz</DIV>
<LI>
<DIV>512MB</DIV>
<LI>
<DIV>60GB disk</DIV>
<LI>
<DIV>DVD/CD-RW drive</DIV>
<LI>
<DIV>Airport card</DIV>
<LI>
<DIV>2nd battery</DIV></LI></UL>
<P>I couldn't justify the extra money for the 1GHz G4 and the Superdrive, but I did spring for the bigger hard disk, since that is almost always what I run out of first on a computer - my Thinkpad T23's 48GB disk has more than 40GB of stuff on it already.</P>
<P>Here's <A href="http://www.apple.com/powerbook/">a link to the PowerBook site at Apple</A>&nbsp;for more details.</P>
<P>Hopefully it will arrive in time for Christmas!</P></p>
          <p><a href="../Weblog/MerryChristmastome....html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Merry Christmas to me ..." alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/MerryChristmastome....html');"><script type="text/javascript">postCount('Weblog/MerryChristmastome....html');</script></a></p>
         
          <div class="entryTitle">Living with code generation</div>
          <div class="entryDate">2002-12-16</div>
          <p><P>Just in time for the holidays, I just got a milestone build of my product done! For this milestone release, the core data manipulation engine had to meet certain quality requirements. I thought that I had it done on Friday, but my last set of tests which used data canonicalization turned up a whole raft of bugs that would have otherwise eluded detection. This article describes my experiences using code generation and related techniques while implementing and testing my data manipulation engine.</P>
<P>But first a bit of (intentionally vague) background about my data manipulation engine. It can parse and generate complex binary files. Within these files are hundreds of types, which typically result in thousands of instances at runtime. For this milestone release, my test suite had to ferret out bugs that specifically related to the serialization / deserialization engine. To complicate matters, the data could be [de]serialized into several different formats. This is one of those nasty test matrices where the sheer number of combinations defy any sort of brute-force testing.</P>
<P>Most of my data engine was <A href="../Weblog/Whenlessismore.html">code-generated</A>&nbsp;using a free&nbsp;code generation tool called <A href="http://www.imatix.com/html/gslgen/">gslgen</A>. Using line count as a very simple metric, roughly 10000 lines of codes were generated, and about 1000 lines of code handled the special cases that were beyond the scope of the code-generator.</P>
<P>Most of my test suite was also code-generated. I used a separate code-generator and I defined a special language that let me specify test cases extremely compactly using XML. Currently there are about 150 tests in the suite that I generate from roughly 300 lines of custom test case language. This list is by no means exhaustive given the number of possible combinations, but I'm very happy that complex integration tests using real-world data have resulted in a 100% pass rate. I will back-fill the additional unit tests as the code base evolves.</P>
<P>To run my test suite, I'm using <A href="http://nunit.org/">NUnit V2.0</A>. I'm very happy with how effortless it was to integrate NUnit unit tests into my existing build environment. Most of the time during development, I keep the NUnit GUI up and running during development builds to run periodically as I fix bugs. I found that the safety net provided by my unit tests allowed me to aggressively test new bug fixes in my code.</P>
<P>One of the key features of my data engine / test suite is data canonicalization. My data engine generates a single (canonical) representation of the data that is owned by an object, which lets me quickly detect data corruption bugs. My code generator generates a special-case [de]serializer that would parse/serialize an object's fields to/from a stream as XML. Once it was in XML format, it was very easy to run a diff tool[1] against the generated files to see where the problems were. Since the [de]serializer would serialize to/from a <EM>canonical</EM> data representation, it was very easy to spot bugs in the [de]serializer. </P>
<P>I used this technique extensively in integration testing. A typical series of events in an integration test would be to:</P>
<OL>
<LI>
<DIV>Parse an existing file A of binary data to generate an object graph</DIV>
<LI>
<DIV>Serialize the object graph as XML 1</DIV>
<LI>
<DIV>Parse the XML 1 to generate an object graph</DIV>
<LI>
<DIV>Serialize the object graph to file B as binary data</DIV>
<LI>
<DIV>Parse file B to generate an object graph</DIV>
<LI>
<DIV>Serialize the object graph as XML 2</DIV>
<LI>
<DIV>Compare XML 1 and XML 2 for equivalence</DIV></LI></OL>
<P>I spent a fair amount of effort in my code generator to ensure that the generated source code was highly readable. This made it very easy for me to step through the generated code using a debugger, and to modify that generated code. Contrast this with classic C++ template driven programming, where it was impossible to modify the <EM>generated</EM> code; instead you must modify the template, which makes it hard to quickly test fixes to a particular instance of a template. </P>
<P>One of the really amazing things about code generation was how quickly I could fix bugs once I found them.&nbsp;This is because algorithms were expressed in exactly one place using code generation.[2] Most of my bug fixes would either be in the code generator or in the supporting class libraries. And I found that once I fixed a bug once, it almost never re-occurred. </P>
<P>Overall I found that the cost of switching to code generation is heavily front-loaded. But once you get the code generator up and running (and also using it creatively in places like generating your test cases) you will find that it pays you back with much higher quality code in the end.</P>
<P>[1] I use WinDiff from the Platform SDK.</P>
<P>[2] This reminds me of Tip 11: Don't Repeat Yourself (DRY) from the most excellent book <A href="http://www.amazon.com/exec/obidos/ASIN/1040141435/iunknowncom-20/">The Pragmatic Programmer</A>.</P></p>
          <p><a href="../Weblog/Livingwithcodegeneration.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Living with code generation" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Livingwithcodegeneration.html');"><script type="text/javascript">postCount('Weblog/Livingwithcodegeneration.html');</script></a></p>
         
          <div class="entryTitle">How Macs are faster than PCs and other lies</div>
          <div class="entryDate">2002-12-15</div>
          <p><P>Anyone who has read my weblog recently knows that I am suffering from an affliction that I share with many other Windows developers that I know: Mac envy. Several times over the past week, I almost walked home with a new Mac of one form or another. The closest I came was last week when I spent some time at a local Mac dealership. When I found out that a PowerMac sporting dual G4 867 processors was only $2599 CDN, I could literally feel that credit card burning a hole in my pocket. Just before I whipped out my Visa card, I was overcome by a brief moment of sanity, where I decided to go and do some more research about how fast G4 processors were before I committed to a new Mac.</P>
<P>At home, I had laid out on my desktop a number of Mac brochures that I had procured from the Campus Computer Shop at the University of Toronto. There was one part of the brochure that had caught my eye: just how much faster G4 processors running on the PowerMacs were than the latest generation Intel processor in August, 2002: the 2.53GHz P4. Here's a scanned image of that part of the brochure:</P><SPAN>
<CENTER><IMG height=930 alt=[Image] hspace=4 src="../Images/lies.jpg" width=542 border=0 cd:pos="0"><BR clear=all></CENTER></SPAN>
<P>I was amazed by Apple's claim that a dual 1.25GHz P4 was 90% faster than a 2.53GHz P4 at running Photoshop. Heck, the lowly dual 867MHz PowerMac that I almost bought was 45% faster than those puny 2.53GHz P4's! Or so Apple claims ...</P>
<P>I decided to check those claims for myself. A little bit of work with Google soon revealed <A href="http://www.digitalvideoediting.com/2002/07_jul/features/cw_macvspc2.htm">this review that was published by Digital Video Editing magazine</A>. What blew me away was just how much faster the P4 was than the G4 in performing&nbsp;a complex set of Photoshop 7 transformations:</P>
<UL>
<LI>
<DIV>Convert background to layer</DIV>
<LI>
<DIV>Resize image 500 percent</DIV>
<LI>
<DIV>Apply Inner Glow</DIV>
<LI>
<DIV>Apply Gradient Overlay</DIV>
<LI>
<DIV>Make four different adjustment layers (Curves, Gradient Map, Selective Color and Color Balance)</DIV>
<LI>
<DIV>Make text</DIV>
<LI>
<DIV>Set antialias</DIV>
<LI>
<DIV>Warp text (arc)</DIV>
<LI>
<DIV>Warp text (flag)</DIV>
<LI>
<DIV>Rasterize text</DIV>
<LI>
<DIV>Set selection</DIV>
<LI>
<DIV>Duplicate</DIV>
<LI>
<DIV>Scale 411 percent</DIV>
<LI>
<DIV>Save alpha</DIV>
<LI>
<DIV>Select inverse</DIV>
<LI>
<DIV>Fill with solid color</DIV></LI></UL>
<P>The 2.53GHz P4 was <EM>twice as fast </EM>as a PowerMac with dual 1GHz G4's: 4s to complete this set of operations vs. 8s for the PowerMac. <A href="http://www.digitalvideoediting.com/2002/11_nov/reviews/cw_macvspciii.htm">There's an update to that article</A> where they tested a 3.06GHz P4 vs. a dual 1.25GHz PowerMac. These new results are even uglier for the Mac.</P>
<P>What was even more interesting was that I found the link to the above review on a Mac advocacy site: the Mac News Network. <A href="http://www.macnn.com/news.php?id=15410">Check out for yourself the reader reaction to that article</A>. What amazed me about the reader reaction was that there were virtually no comments along the lines "oh those Digital Video Editing guys were just bought off by Intel". Almost all of the reader reaction was critical of Apple for falling behind PC's in raw computing performance.</P>
<P>Needless to say, when I first read that review I seriously soured on the idea of buying a PowerMac because it was fast. Because it isn't. It's not even in the same league as current PC hardware. And do you know what the scary thing is? Current PC hardware is absolutely dirt cheap these days. I just got a brochure from Dell in the mail where I could buy a 2.53GHz P4 system for $1240 CDN. Yes, that's right, for roughly 1/2 the price of that dual PowerMac, I could buy an Intel system that would be <EM>significantly faster</EM>. We're talking about a price / performance differential of nearly 4:1!</P>
<P>Another disappointing thing is how Apple gets favorable treatment by the press. Whereas Microsoft <A href="http://www.wired.com/news/mac/0,2125,55785,00.html">got a ton of negative press over its fake Switch ads</A>, I haven't seen any negative press over Apple's blatant lies about the performance of their G4 processors vs. Intel P4 processors. </P>
<P>I think I'm still going to get a Mac (most likely a PowerBook), though. I really want to run OS X for a while to see how it performs in day-to-day tasks. I want to see how another community thinks user interfaces should be designed. I want to take a closer look at the Objective-C programming language. I want to build some apps using the Cocoa framework. I want to have a full-time Unix box nearby. However, one thing's for certain: I'm not going to buy it because it's fast.</P></p>
          <p><a href="../Weblog/HowMacsarefasterthanPCsan.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to How Macs are faster than PCs and other lies" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/HowMacsarefasterthanPCsan.html');"><script type="text/javascript">postCount('Weblog/HowMacsarefasterthanPCsan.html');</script></a></p>
         
          <div class="entryTitle">From the fantasy hardware department</div>
          <div class="entryDate">2002-12-10</div>
          <p>Man, <A href="http://www.mypce.com/PDFS/MyPCE_Brochure.pdf">I really want one of these</A>. I might even want it more than a Mac ... :)</p>
          <p><a href="../Weblog/Fromthefantasyhardwaredep-2.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to From the fantasy hardware department" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Fromthefantasyhardwaredep-2.html');"><script type="text/javascript">postCount('Weblog/Fromthefantasyhardwaredep-2.html');</script></a></p>
         
          <div class="entryTitle">Some CPU resources</div>
          <div class="entryDate">2002-12-03</div>
          <p><P>I'm spending more and more time these days thinking about buying a Mac. However, since I know so little about that other platform, I decided to do first do some research. </P>
<P>Today, I was curious about the differences between the G4 and the P4 CPU's. This led me to <A href="http://arstechnica.com/cpu/01q2/p4andg4e/p4andg4e-1.html">this interesting CPU comparison on ArsTechnica</A>. While reading this review, I discovered <A href="http://www.emulators.com/secrets.htm">this totally fascinating weblog</A> that talks about a lot of down-and-dirty details about AMD vs. Intel CPU's. It's written by a guy named Darek, who is apparently the mastermind behind a cool piece of software called <A href="http://www.emulators.com/softmac.htm">SoftMac</A> - which lets you run Mac applications under Windows XP!</P>
<P>Don't worry, though, I still want a <A href="http://www.apple.com/imac/">sexy piece of Apple hardware</A> on my desk ... :)</P></p>
          <p><a href="../Weblog/SomeCPUresources.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Some CPU resources" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/SomeCPUresources.html');"><script type="text/javascript">postCount('Weblog/SomeCPUresources.html');</script></a></p>
         
          <div class="entryTitle">A new year</div>
          <div class="entryDate">2002-12-02</div>
          <p><P>Wow. </P>
<P>It's been <A href="../Weblog/fog0000000011.html">a year + 1 day</A> since I started writing this weblog. A lot of things have happened this past year, and most of it is chronicled in this web log. I <A href="../Weblog/Imgettingmarried.html">got married</A>, <A href="../Weblog/TheGreatHoneymoonTrick.html">lied to my wife and her entire family about our honeymoon</A>, <A href="../Weblog/HellofromAOSD2002.html">spoke at my first academic computer science conference</A>, <A href="../Weblog/DevConnections.html">tech-chaired my first industry conference</A>, <A href="../Weblog/LivingwiththeNikonCoolpix.html">picked up photography as a hobby</A>, and met lots of interesting people, both on-line and otherwise.</P>
<P>I decided to update a few rusty corners of my weblog on this one-year anniversary date. I've <A href="../About/fog0000000010.html">updated my plan</A>, and did a bit of light editing of some of the other things in the About ... section.</P>
<P>I hope y'all find this weblog as interesting as it was fun for me to create!</P></p>
          <p><a href="../Weblog/Anewyear.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to A new year" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/Anewyear.html');"><script type="text/javascript">postCount('Weblog/Anewyear.html');</script></a></p>
         
          <div class="entryTitle">Enterprise Services!</div>
          <div class="entryDate">2002-12-02</div>
          <p><P>My thanks go out to both <A href="http://radio.weblogs.com/0108971/2002/11/30.html#a43">Clemens</A> and <A href="http://www.dotnetremoting.cc/DotNetCentric/2002/11/30.asp#a351">Ingo</A> who have both influenced my thinking in this area. I now see that managed <EM>declarative</EM> transactions are the way to go. This combined with the fact that <A href="http://www.gotdotnet.com/team/xmlentsvcs/esfaq.aspx#1.2">ES calls are special-cased by the runtime to avoid P/Invoke overhead</A>, means that there really isn't any excuse not to use this technology.</P>
<P>Ingo also pointed to this link to the <A href="http://www.gotdotnet.com/team/xmlentsvcs/esfaq.aspx">Enterprise Services FAQ on GotDotNet</A>, which (among other things) says that the next release of ES will automatically promote single-RM transactions into distributed transactions only when necessary. </P>
<P>To celebrate this moment, I went down to my storage locker to retrieve a book that I thought that I didn't need anymore in the new world: <A href="http://www.gotdotnet.com/team/tewald/spoutlet.aspx">Tim Ewald's</A> most excellent <A href="http://www.amazon.com/exec/obidos/redirect?tag=iunknowncom-20&amp;path=tg/detail/-/0201615940/qid=1038875851/sr=8-1">Transactional COM+</A> book. Reading the chapter on transaction streams is a must for anyone doing ES work.</P></p>
          <p><a href="../Weblog/EnterpriseServices-2.html"><img src="../Images/blue_button.jpg" border="0" title="Permanent link to Enterprise Services!" alt="Permanent Link" width="18" height="18" align="top"></a>&nbsp;&nbsp;<a href="javascript:HaloScan2('Weblog/EnterpriseServices-2.html');"><script type="text/javascript">postCount('Weblog/EnterpriseServices-2.html');</script></a></p>
        
      </td>
      <td width="24%" valign="top">
        <a href="http://www.iunknown.com/rss.xml"><img src="../Images/xml.png" width="36" height="14" border="0"></a>
  
        <p><img src="../Images/about.png" width="100" height="25"></p>
        <div class="aboutEntry"> 
          
            <A href="../About/Aboutme.html">About me</A><br>
          
            <A href="../About/fog0000000006.html">About this site</A><br>
          
            <A href="../About/fog0000000010.html">My plan</A><br>
          
            <A href="../About/fog0000000009.html">My other life</A><br>
          
            <A href="../About/fog0000000008.html">My products</A><br>
          
            <A href="../About/fog0000000013.html">My publications</A><br>
          
        </div>

        <p><img src="../Images/archives.png" width="100" height="25"></p>
        <div class="archiveEntry">
         
           <A href="March2003.html">March 2003</A><br>
         
           <A href="February2003.html">February 2003</A><br>
         
           <A href="January2003.html">January 2003</A><br>
         
           <A href="December2002.html">December 2002</A><br>
         
           <A href="November2002.html">November 2002</A><br>
         
           <A href="October2002.html">October 2002</A><br>
         
           <A href="September2002.html">September 2002</A><br>
         
           <A href="August2002.html">August 2002</A><br>
         
           <A href="July2002.html">July 2002</A><br>
         
           <A href="June2002.html">June 2002</A><br>
         
           <A href="May2002.html">May 2002</A><br>
         
           <A href="April2002.html">April 2002</A><br>
         
           <A href="fog0000000116.html">March 2002</A><br>
         
           <A href="fog0000000091.html">February 2002</A><br>
         
           <A href="fog0000000046.html">January 2002</A><br>
         
           <A href="fog0000000030.html">December 2001</A><br>
         
        </div>

        <p><img src="../Images/articles.png" width="100" height="25"></p>
        <div class="articleEntry">
          
            - <A href="../Articles/Booksuggestions.html">Book suggestions</A><br>
          
            - <A href="../Articles/fog0000000082.html">Interface dispatch vs. object reference dispatch</A><br>
          
            - <A href="../Articles/fog0000000065.html">x86 Resources</A><br>
          
            - <A href="../Articles/fog0000000041.html">Entertainment PC's Part 2</A><br>
          
            - <A href="../Articles/fog0000000034.html">Entertainment PC's</A><br>
          
            - <A href="../Articles/fog0000000025.html">Hello CppUnit</A><br>
          
        </div>

        <p><img src="../Images/links.png" width="100" height="25"></p>
        <div class="linkEntry">
          <a href="http://www.gotdotnet.com/team/dbox/spoutlet.aspx">Don Box</a><br>
          <a href="http://www.stronglytyped.com/">Richard Caetano</a><br>
          <a href="http://www.razorsoft.net/weblog/">Peter Drayton</a><br>
          <a href="http://radio.weblogs.com/0109845/">Jeroen Frijters</a><br>
          <a href="http://radio.weblogs.com/0105852/">Sam Gentile</a><br>
          <a href="http://radio.weblogs.com/0106747/">Scott Hanselman</a><br>
          <a href="http://radio.weblogs.com/0104813/">Drew Marsh</a><br>
          <a href="http://www.dotnetremoting.cc/dotnetcentric/">Ingo Rammer</a><br>
          <a href="http://www.winterdom.com/weblog/">Tomas Restrepo</a><br>
          <a href="http://www.sellsbrothers.com/">Chris Sells</a><br>
          <a href="http://www.joelonsoftware.com/">Joel Spolsky</a><br>
          <a href="http://radio.weblogs.com/0108971/">Clemens Vasters</a><br>
          <a href="http://staff.develop.com/jasonw/weblog/">Jason Whittington</a><br>
          <a href="http://dotnetguy.techieswithcats.com/">Brad Wilson</a><br>
        </div>
      </td>
    </tr>
  </table>
</BODY>
</HTML>
