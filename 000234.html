<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>iunknown.com: Code generation comments from Pieter Hintjens</title>

<link rel="stylesheet" href="http://www.iunknown.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.iunknown.com/index.rdf" />

<link rel="start" href="http://www.iunknown.com/" title="Home" />
<link rel="prev" href="http://www.iunknown.com/000233.html" title="GSLgen updated!" />

<link rel="next" href="http://www.iunknown.com/000235.html" title="Code generation observations" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.iunknown.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>





</head>

<body>

<div id="banner">
<h1><a href="http://www.iunknown.com/" accesskey="1"><img src="/mt-static/images/iunknown.png" width="350" height="60" border="0"></a></h1>
<span class="description">Home of the Practical Eye for the .NET Guy</span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://www.iunknown.com/000233.html">&laquo; GSLgen updated!</a> |

<a href="http://www.iunknown.com/">Main</a>
| <a href="http://www.iunknown.com/000235.html">Code generation observations &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">April 18, 2003</h2>

<div class="blogbody">

<h3 class="title">Code generation comments from Pieter Hintjens</h3>

<p><P>Pieter Hintjens is one of the creators of <A href="Weblog/GSLgenupdated.html">GSLgen</A>. Recently, Pieter left a very insightful comment under my <A href="Weblog/Whenlessismore.html">code generation epiphany piece</A> that I'd like to replicate here on my weblog where more folks are likely to read it:</P><br />
<BLOCKQUOTE dir=ltr style="MARGIN-RIGHT: 0px"><br />
<P>John, your insights into the why of code generation are excellent. It took me <BR>a long time to come to the same conclusion, that the power came from <BR>abstraction and not reuse. By the way, let me introduce myself: I'm one <BR>of the authors of GSLgen, along with my long-time friend Jonathan Schultz. </P><br />
<P>The surprise with GSLgen is not that it works powerfully (it was very <BR>carefully designed to be powerful). The surprise is that people are <BR>surprised by it. </P><br />
<P>I wrote an article for DDJ in 1999 about GSLgen and code generation. <BR>Now, I've written a couple of articles for this magazine, and I know the <BR>editor, yet they found that code generation was so obscure and such a <BR>bizarre idea that they did not publish the article. </P><br />
<P>And yet, how else can you abstract your ideas up from the banal level of <BR>writing code line by painful line? </P><br />
<P>I began writing code generators with Leif Svalgaard in 1985, in COBOL, <BR>part of a huge toolkit that generated portable COBOL applications for <BR>mainframes, minis, PCs. Our first code generators were very specific: <BR>generate database code, generate forms, whatever. You can still see <BR>echoes of this in my Libero tool (www.imatix.com) which generates code <BR>for state machines. State machines are a very powerful abstraction, much <BR>loved by telecoms programmers, and Libero (which DDJ did print an <BR>article on) has been widely used since it was released in 1992 or so. </P><br />
<P>GSLgen does everything Libero does, but for an infinitely wider set of <BR>abstractions. While Libero says: "here, we've developed this nice <BR>abstraction, and here is a code generator that implements it", GSLgen <BR>says "here is a way of defining and implementing arbitrary <BR>abstractions." </P><br />
<P>This is not a freedom that many people can use. It's the white paper <BR>problem. You may be free to draw anything you like, but it only works <BR>if you're a capable artist. So much easier to color by numbers! <BR>Good abstractions take many years to develop and refine. Sure: interfaces, <BR>test cases, SQL... these are trivial. But how about an abstraction for a<BR>mobile phone interface that will generate the tens of thousands of lines of <BR>code that implement it? </P><br />
<P>The combination of XML plus 'simple scripting language' is very potent. <BR>When that scripting language is intended for human use (not like XSLT <BR>which is potently awful to use), and aims at code generation (doing <BR>small but valuable data manglings), you get a tool like GSLgen. </P><br />
<P>Our company - iMatix - does just about everything through GSLgen. We <BR>simply don't write code by hand any more, unless it's GSL scripts, or <BR>XML abstractions. What does this give us? It's hard to compare <BR>efficiency because so much depends on the actual value of the resulting <BR>applications, but we can build complex applications for about 10% of the <BR>cost of other teams. That's a 90% saving... and about half of the <BR>remaining cost is in things like testing and building that we don't yet <BR>automate enough. GSLs produces near perfect code, at about 1/10th the <BR>cost of writing code by hand, and it's code that costs almost nothing to <BR>maintain. This gives you some idea of how we're breaking the rules of <BR>traditional software engineering. <BR><BR>Since GSL/2 was released, we've continued pushing the language towards <BR>something more like a modern OOP scripting language. The first GSL syntax <BR>was truly minimalistic: just enough to work through the XML tree and <BR>produce output under various conditions. When we made GSL/1 in 1996, <BR>we'd been developing this 'minimalistic' language for about ten years. <BR>Again, if you know any of the iMatix tools, you'll see echoes of it in <BR>Libero and Htmlpp. Designing a language that mixes well with code is <BR>a prerequisite for template-based code generation. <BR><BR>It's not really necessary to be able to (e.g.) access databases in a <BR>code generator, but when you get used to playing with XML abstractions, <BR>you start to thing: "why not build a web server in GSL... and handle the <BR>configuration file as an abstraction...?" All it needs is socket i/o. Check. <BR>Process control. Check. Multithreading. Check. Since GSL/3, the GSLgen <BR>engine has been a multithreaded affair built using our SMT kernel. We have <BR>this habit at iMatix of making bizarrely useful things (like Xitami). And most of <BR>this technology is now going into GSLgen. <BR><BR>As far as we know, GSLgen is a unique thing in the software world: <BR>not so much a code generator as a way of making arbitrary code <BR>generators. As John Lam said, it takes a stubborn mind to make that <BR>worth something. But in this industry we're faced with a fundamental <BR>problem. We keep changing the languages we use, thinking that if only we <BR>can move from C++ to Java, from VB to C#, all our problems will go away. <BR>What we forget is that each move means rewriting years of work. Throw it <BR>all out, start again. It's a sad waste of our lives. With code <BR>generation, you can escape this cycle. Abstractions are immortal. <BR>Abstractions can live forever. Not five years, ten years, but as long <BR>as there is software running on computers. This is why Libero is still <BR>popular and highly useful more than a decade after I wrote it. Migrating <BR>your code generators to a new language is often a matter of a few days <BR>or weeks only. If you do it right (ah, grasshopper, try again) you will <BR>find yourself floating above the language wars.<br />
<P>It takes a stubborn mind to think of todays' work in terms of tomorrow. <BR>But it's worth it, and for professional programmers who value their time, <BR>it seems to be one of the few avenues open.</P></BLOCKQUOTE></p>

<a name="more"></a>


<span class="posted">Posted by John at April 18, 2003 09:52 AM

<br /></span>

</div>

<div class="comments-head"><a name="mailthisentry"></a>Mail this entry</div>

<form method="post" action="http://www.iunknown.com/cgi-bin/mt-send-entry.cgi">
<input type="hidden" name="entry_id" value="234" />
<input type="hidden" name="_redirect" value="http://www.iunknown.com/000234.html" />
Email this entry to:<br />
<input name="to" size="20" /><br /><br />
Your email address:<br />
<input name="from" size="20" /><br /><br />
Message (optional):<br />
<textarea name="message" rows="5" cols="20" wrap="virtual"></textarea><br /><br />
<input type="submit" value="Send" />
</form>


<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>Creating Code is becoming a thing of the past and I feel that GSLgen has made a huge step to this being a reality.</p>

<p>Question is GSL/3 available or is this in house only.</p>

<p>Well done</p>
<span class="comments-post">Posted by: <a href="mailto&#58;gary&#64;ipssolutions&#46;net">Gary</a> at October  8, 2003 01:52 AM</span>
</div>




</div>
</div>
</body>
</html>
