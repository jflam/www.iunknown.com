<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>iunknown.com: Writing YABE (Yet Another Blog Engine) in ASP.NET 2.0</title>

<link rel="stylesheet" href="http://www.iunknown.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.iunknown.com/index.rdf" />

<link rel="start" href="http://www.iunknown.com/" title="Home" />
<link rel="prev" href="http://www.iunknown.com/000406.html" title="Refactoring in ASP.NET 2.0 " />

<link rel="next" href="http://www.iunknown.com/000408.html" title="Where did the security tab go in XP?" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.iunknown.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://www.iunknown.com/000407.html"
    trackback:ping="http://www.iunknown.com/cgi-bin/mt-tb.cgi/151"
    dc:title="Writing YABE (Yet Another Blog Engine) in ASP.NET 2.0"
    dc:identifier="http://www.iunknown.com/000407.html"
    dc:subject="Blog"
    dc:description="I&apos;ve got most of the core of my new ASP.NET 2.0 blogging engine working now. It&apos;s been a fun experience, and I&apos;ve had an opportunity to test about 50% of the new features of ASP.NET 2.0. So far I really..."
    dc:creator="John"
    dc:date="2004-02-12T00:18:21-05:00" />
</rdf:RDF>
-->




</head>

<body>

<div id="banner">
<h1><a href="http://www.iunknown.com/" accesskey="1"><img src="/mt-static/images/iunknown.png" width="350" height="60" border="0"></a></h1>
<span class="description">.NET Training and Consulting in Toronto with John Lam</span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://www.iunknown.com/000406.html">&laquo; Refactoring in ASP.NET 2.0 </a> |

<a href="http://www.iunknown.com/">Main</a>
| <a href="http://www.iunknown.com/000408.html">Where did the security tab go in XP? &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">February 12, 2004</h2>

<div class="blogbody">

<h3 class="title">Writing YABE (Yet Another Blog Engine) in ASP.NET 2.0</h3>

<div class="midAds">
<script type="text/javascript"><!--
google_ad_client = "pub-8264790134546506";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_channel ="6417806153";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<p>I've got most of the core of my new <span class="caps">ASP.NET 2.0</span> blogging engine working now. It's been a fun experience, and I've had an opportunity to test about 50% of the new features of <span class="caps">ASP.NET 2.0. </span>So far I really like a lot of what I've tried. Here's a list of the features that I'm using in the engine:</p>


<ul>
<li>Image handlers (the new .asix files)</li>
<li>Themes </li>
<li>Master pages</li>
<li>Web parts</li>
<li>Generics</li>
</ul>

<p>Here's a list of 1.x features that I'm using as well:</p>


<ul>
<li>User controls</li>
<li>Custom controls</li>
<li><span class="caps">XSLT</span><sup class="footnote"><a href="http://www.iunknown.com/000407.html#fn1">1</a></sup> </li>
<li>DataList / DataGrid and a combination of Eval() and <a href="http://www.iunknown.com/000405.html">old-school DataBinder.Eval() databinding</a>.</li>
<li>System.Drawing stuff</li>
<li>Client-side javascript scripts</li>
</ul>

<p>I can definitely attest to the fact that I've written this engine using far fewer lines of code than was required by <span class="caps">ASP.NET 1</span>.x. I'm spending a lot of time refactoring code in <span class="caps">ASP.NET 2.0</span> because I can. If I have enough cycles, I'll back-port my blog engine to <span class="caps">ASP.NET 1</span>.x and do a line count comparison.</p>

<p>One thing that is annoying about the web parts implementation in the alpha bits: it spews out some really nasty-looking &lt;table&gt; elements. I'm really hoping that the <span class="caps">ASP.NET</span> team provides an option to render using &lt;div&gt; elements and <span class="caps">CSS</span> table layout attributes instead. I'm trying to make the <span class="caps">HTML</span> that my blog engine spits out compliant with the <a href="http://www.csszengarden.com"><span class="caps">CSS </span>Zen Garden <span class="caps">HTML</span></a> so that I can leverage some of the really awesome <span class="caps">CSS</span> design work that has gone into that <span class="caps">HTML</span> schema. This means that I'm going to have to punt web parts until this gets fixed. Oh well, such is life with bits that are a year away from shipping :)</p>

<p>[1] Because the <span class="caps">XML</span>DataSource object isn't working in the alpha bits. It was a lot of fun writing some <span class="caps">XSLT</span> again.</p>

<a name="more"></a>


<span class="posted">Posted by John at February 12, 2004 12:18 AM
| <a href="http://www.iunknown.com/cgi-bin/mt-tb.cgi?__mode=view&amp;entry_id=407" onclick="OpenTrackback(this.href); return false">TrackBack</a>

<br /></span>

</div>

<div class="comments-head"><a name="mailthisentry"></a>Mail this entry</div>

<form method="post" action="http://www.iunknown.com/cgi-bin/mt-send-entry.cgi">
<input type="hidden" name="entry_id" value="407" />
<input type="hidden" name="_redirect" value="http://www.iunknown.com/000407.html" />
Email this entry to:<br />
<input name="to" size="20" /><br /><br />
Your email address:<br />
<input name="from" size="20" /><br /><br />
Message (optional):<br />
<textarea name="message" rows="5" cols="20" wrap="virtual"></textarea><br /><br />
<input type="submit" value="Send" />
</form>


<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>I've had an idea to do this, but I've held back for one simple reason - providers. My plan was to use the provider model so that the underlying data store could be swapped out. This would enable providers to be written for other engines so that the whidbey blog engine could work on top of existing blog engines. What's stopped me is that the provider model is changing for beta (from interfaces to abstract classes), so I've decided to wait. </p>
<span class="comments-post">Posted by: Dave Sussman at February 12, 2004 07:03 AM</span>
</div>
<div class="comments-body">
<p>I was thinking along the same lines, which is why I'm using old-school SqlClient style data binding in YABE. I'll move over to the new stuff once things get a bit more stabilized in B1.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.iunknown.com">John Lam</a> at February 12, 2004 11:12 AM</span>
</div>



<div class="comments-head">Post a comment</div>

<div class="comments-body">
<form method="post" action="http://www.iunknown.com/cgi-bin/mt-comments.cgi" name="comments_form" onsubmit="if (this.bakecookie[0].checked) rememberMe(this)">
<input type="hidden" name="static" value="1" />
<input type="hidden" name="entry_id" value="407" />

<div style="width:180px; padding-right:15px; margin-right:15px; float:left; text-align:left; border-right:1px dotted #bbb;">
	<label for="author">Name:</label><br />
	<input tabindex="1" id="author" name="author" /><br /><br />

	<label for="email">Email Address:</label><br />
	<input tabindex="2" id="email" name="email" /><br /><br />

	<label for="url">URL:</label><br />
	<input tabindex="3" id="url" name="url" /><br /><br />
</div>

Remember personal info?<br />
<input type="radio" id="bakecookie" name="bakecookie" /><label for="bakecookie">Yes</label><input type="radio" id="forget" name="bakecookie" onclick="forgetMe(this.form)" value="Forget Info" style="margin-left: 15px;" /><label for="forget">No</label><br style="clear: both;" />

<label for="text">Comments:</label><br />
<textarea tabindex="4" id="text" name="text" rows="10" cols="50"></textarea><br /><br />

<input type="submit" name="preview" value="&nbsp;Preview&nbsp;" />
<input style="font-weight: bold;" type="submit" name="post" value="&nbsp;Post&nbsp;" /><br /><br />

</form>

<script type="text/javascript" language="javascript">
<!--
document.comments_form.email.value = getCookie("mtcmtmail");
document.comments_form.author.value = getCookie("mtcmtauth");
document.comments_form.url.value = getCookie("mtcmthome");
if (getCookie("mtcmtauth")) {
    document.comments_form.bakecookie[0].checked = true;
} else {
    document.comments_form.bakecookie[1].checked = true;
}
//-->
</script>
</div>


</div>
</div>
</body>
</html>
