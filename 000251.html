<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>iunknown.com: .NET Pet Shop</title>

<link rel="stylesheet" href="http://www.iunknown.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.iunknown.com/index.rdf" />

<link rel="start" href="http://www.iunknown.com/" title="Home" />
<link rel="prev" href="http://www.iunknown.com/000250.html" title="Moving to Movable Type" />

<link rel="next" href="http://www.iunknown.com/000252.html" title="Challenge-response email authentication" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.iunknown.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>





</head>

<body>

<div id="banner">
<h1><a href="http://www.iunknown.com/" accesskey="1"><img src="/mt-static/images/iunknown.png" width="350" height="60" border="0"></a></h1>
<span class="description">Home of the Practical Eye for the .NET Guy</span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://www.iunknown.com/000250.html">&laquo; Moving to Movable Type</a> |

<a href="http://www.iunknown.com/">Main</a>
| <a href="http://www.iunknown.com/000252.html">Challenge-response email authentication &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">May 20, 2003</h2>

<div class="blogbody">

<h3 class="title">.NET Pet Shop</h3>

<p><P>I just started looking at .NET Pet Shop today. My near-term goal is to reimplement .NET Pet Shop using code generation techniques. Given the hype that was given this application and its J2EE counterpart, the Java Pet Store, one would have expected to have found a reasonably well thought-out application. I think I expected too much.</P><br />
<P>The Pet Shop / Pet Store database schema is just plain awful. For a nice summary of what's broken in the database schema, <A href="http://www.deklarit.com/technical/DeKlarit_Pet_Shop_application_white_paper.pdf">see the excellent writeup from Deklarit</A> that describes their re-implementation of .NET Pet Shop using their code generation product. The first thing they had to do, however, was to fix the database schema. Most likely I'll start with their database schema; I just can't bear to take another look at the original schema!</P></p>

<a name="more"></a>


<span class="posted">Posted by John at May 20, 2003 11:15 PM

<br /></span>

</div>

<div class="comments-head"><a name="mailthisentry"></a>Mail this entry</div>

<form method="post" action="http://www.iunknown.com/cgi-bin/mt-send-entry.cgi">
<input type="hidden" name="entry_id" value="251" />
<input type="hidden" name="_redirect" value="http://www.iunknown.com/000251.html" />
Email this entry to:<br />
<input name="to" size="20" /><br /><br />
Your email address:<br />
<input name="from" size="20" /><br /><br />
Message (optional):<br />
<textarea name="message" rows="5" cols="20" wrap="virtual"></textarea><br /><br />
<input type="submit" value="Send" />
</form>


<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>Hi John,<br />
What's your analysis about the reason for the poor database design in the initial Java Pet Shop?<br />
Best Regards,<br />
Jimmy<br />
###</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.jnsk.se">Jimmy Nilsson</a> at May 21, 2003 04:58 PM</span>
</div>
<div class="comments-body">
<p>Perhaps my tool is useful for your<br />
petshop project ?<br />
Please check it out.<br />
Thanks<br />
Ricky</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.dbcodegen.com">Ricky Datta</a> at May 22, 2003 04:15 AM</span>
</div>
<div class="comments-body">
<p>John,<br />
Let me though another tool at you -<br />
xsd2db<br />
http://xsd2db.sf.net</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://radio.weblogs.com/0112946">Alexis Smirnov</a> at May 23, 2003 03:15 PM</span>
</div>
<div class="comments-body">
<p>Hi,<br />
Are you talking about the PetShop 3.0 ?<br />
http://www.middleware-company.com/casestudy/msPetShop3.2.zip</p>
<span class="comments-post">Posted by: Anonymous at May 26, 2003 05:09 PM</span>
</div>
<div class="comments-body">
<p>Jimmy, the DeKlarit paper really says it all. There's not much more that I can add to it.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.iunknown.com">John Lam</a> at May 26, 2003 10:14 PM</span>
</div>
<div class="comments-body">
<p>Alexis, thanks for posting your code! I'm going to definitely check it out and email you with some comments later this week. I'm still in the middle of a Movable Type migration right now </p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.iunknown.com">John Lam</a> at May 26, 2003 10:15 PM</span>
</div>



<div class="comments-head">Post a comment</div>

<div class="comments-body">
<form method="post" action="http://www.iunknown.com/cgi-bin/mt-comments.cgi" name="comments_form" onsubmit="if (this.bakecookie[0].checked) rememberMe(this)">
<input type="hidden" name="static" value="1" />
<input type="hidden" name="entry_id" value="251" />

<div style="width:180px; padding-right:15px; margin-right:15px; float:left; text-align:left; border-right:1px dotted #bbb;">
	<label for="author">Name:</label><br />
	<input tabindex="1" id="author" name="author" /><br /><br />

	<label for="email">Email Address:</label><br />
	<input tabindex="2" id="email" name="email" /><br /><br />

	<label for="url">URL:</label><br />
	<input tabindex="3" id="url" name="url" /><br /><br />
</div>

Remember personal info?<br />
<input type="radio" id="bakecookie" name="bakecookie" /><label for="bakecookie">Yes</label><input type="radio" id="forget" name="bakecookie" onclick="forgetMe(this.form)" value="Forget Info" style="margin-left: 15px;" /><label for="forget">No</label><br style="clear: both;" />

<label for="text">Comments:</label><br />
<textarea tabindex="4" id="text" name="text" rows="10" cols="50"></textarea><br /><br />

<input type="submit" name="preview" value="&nbsp;Preview&nbsp;" />
<input style="font-weight: bold;" type="submit" name="post" value="&nbsp;Post&nbsp;" /><br /><br />

</form>

<script type="text/javascript" language="javascript">
<!--
document.comments_form.email.value = getCookie("mtcmtmail");
document.comments_form.author.value = getCookie("mtcmtauth");
document.comments_form.url.value = getCookie("mtcmthome");
if (getCookie("mtcmtauth")) {
    document.comments_form.bakecookie[0].checked = true;
} else {
    document.comments_form.bakecookie[1].checked = true;
}
//-->
</script>
</div>


</div>
</div>
</body>
</html>
