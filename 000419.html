<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />

<title>iunknown.com: Security is hard</title>

<link rel="stylesheet" href="http://www.iunknown.com/styles-site.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.iunknown.com/index.rdf" />

<link rel="start" href="http://www.iunknown.com/" title="Home" />
<link rel="prev" href="http://www.iunknown.com/000418.html" title="Photoshop CS and NeatImage" />

<link rel="next" href="http://www.iunknown.com/000420.html" title="Composition in Photography: A Tutorial" />


<script type="text/javascript" language="javascript">
<!--

function OpenTrackback (c) {
    window.open(c,
                    'trackback',
                    'width=480,height=480,scrollbars=yes,status=yes');
}

var HOST = 'www.iunknown.com';

// Copyright (c) 1996-1997 Athenia Associates.
// http://www.webreference.com/js/
// License is granted if and only if this entire
// copyright notice is included. By Tomer Shiran.

function setCookie (name, value, expires, path, domain, secure) {
    var curCookie = name + "=" + escape(value) + ((expires) ? "; expires=" + expires.toGMTString() : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "");
    document.cookie = curCookie;
}

function getCookie (name) {
    var prefix = name + '=';
    var c = document.cookie;
    var nullstring = '';
    var cookieStartIndex = c.indexOf(prefix);
    if (cookieStartIndex == -1)
        return nullstring;
    var cookieEndIndex = c.indexOf(";", cookieStartIndex + prefix.length);
    if (cookieEndIndex == -1)
        cookieEndIndex = c.length;
    return unescape(c.substring(cookieStartIndex + prefix.length, cookieEndIndex));
}

function deleteCookie (name, path, domain) {
    if (getCookie(name))
        document.cookie = name + "=" + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + "; expires=Thu, 01-Jan-70 00:00:01 GMT";
}

function fixDate (date) {
    var base = new Date(0);
    var skew = base.getTime();
    if (skew > 0)
        date.setTime(date.getTime() - skew);
}

function rememberMe (f) {
    var now = new Date();
    fixDate(now);
    now.setTime(now.getTime() + 365 * 24 * 60 * 60 * 1000);
    setCookie('mtcmtauth', f.author.value, now, '', HOST, '');
    setCookie('mtcmtmail', f.email.value, now, '', HOST, '');
    setCookie('mtcmthome', f.url.value, now, '', HOST, '');
}

function forgetMe (f) {
    deleteCookie('mtcmtmail', '', HOST);
    deleteCookie('mtcmthome', '', HOST);
    deleteCookie('mtcmtauth', '', HOST);
    f.email.value = '';
    f.author.value = '';
    f.url.value = '';
}

//-->
</script>

<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/"
         xmlns:dc="http://purl.org/dc/elements/1.1/">
<rdf:Description
    rdf:about="http://www.iunknown.com/000419.html"
    trackback:ping="http://www.iunknown.com/cgi-bin/mt-tb.cgi/163"
    dc:title="Security is hard"
    dc:identifier="http://www.iunknown.com/000419.html"
    dc:subject="Blog"
    dc:description="Security is much harder than most folks make it out to be. Today, I went to the Microsoft Canada MSDN Security Briefing in Toronto. I went to see Steve Ballmer speak, since I have never heard him speak live before...."
    dc:creator="John"
    dc:date="2004-02-25T21:52:14-05:00" />
</rdf:RDF>
-->




</head>

<body>

<div id="banner">
<h1><a href="http://www.iunknown.com/" accesskey="1"><img src="/mt-static/images/iunknown.png" width="350" height="60" border="0"></a></h1>
<span class="description">.NET Training and Consulting in Toronto with John Lam</span>
</div>

<div id="container">

<div class="blog">

<div id="menu">
<a href="http://www.iunknown.com/000418.html">&laquo; Photoshop CS and NeatImage</a> |

<a href="http://www.iunknown.com/">Main</a>
| <a href="http://www.iunknown.com/000420.html">Composition in Photography: A Tutorial &raquo;</a>

</div>

</div>


<div class="blog">

<h2 class="date">February 25, 2004</h2>

<div class="blogbody">

<h3 class="title">Security is hard</h3>

<div class="midAds">
<script type="text/javascript"><!--
google_ad_client = "pub-8264790134546506";
google_ad_width = 468;
google_ad_height = 60;
google_ad_format = "468x60_as";
google_ad_channel ="6417806153";
google_color_border = "CCCCCC";
google_color_bg = "FFFFFF";
google_color_link = "000000";
google_color_url = "666666";
google_color_text = "333333";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>

<p>Security is much harder than most folks make it out to be. Today, I went to the Microsoft Canada <span class="caps">MSDN </span>Security Briefing in Toronto. I went to see Steve Ballmer speak, since I have never heard him speak live before. While I thought Steve would be leading off, he wound up closing the conference, so I stuck around for a few talks before heading off to other meetings only to return at the end to hear Steve speak. </p>

<p><a href="http://www.paul.bz/blog.aspx">Paul Murphy</a> gave the talks that I saw at the briefing. While Paul is certainly a talented speaker, he fell way short on depth of knowledge. Also, instead of acknowledging that he didn't know the answer to a particular question, instead he tried to make up answers which, while sounding authoritative, actually turned out to be incorrect. </p>

<p>For example, when asked how an organization might defend against a <em>rogue administrator</em>, he suggested using the <span class="caps">DPAPI</span> user store to encrypt credentials. This is worse than admitting the truth: that you can't defend against a rogue administrator. Instead, it lulls folks who follow his advice into a false sense of security.</p>

<p>This is similar to a discussion that happened concurrently in the blogosphere. <a href="http://www.interact-sw.co.uk/iangblog/2004/02/25/appserversecurity">Ian Griffiths</a> correctly called to task <a href="http://weblogs.asp.net/rhurlbut/archive/2004/02/14/73081.aspx">Robert Hurlbut's</a> comments on using application servers that reside on a separate physical tier as a means to defend against compromised web servers. If the reason why you're adding a separate physical tier is <em>only</em> for "passthrough" security, then Ian's argument is that you're not accomplishing anything. Complexity is the enemy of security, and you need to keep things as simple as possible. I highly recommend that folks read Ian's post for the full description.</p>

<p><span class="caps">BTW, I</span> absolutely loved Steve's talk. He's an extremely charismatic speaker, and is someone who can definitely rally the troops. <span class="caps">MUCH</span> better than Bill at giving inspirational talks. I went away wanting to crank on code tonight (which I will!)</p>

<a name="more"></a>


<span class="posted">Posted by John at February 25, 2004 09:52 PM
| <a href="http://www.iunknown.com/cgi-bin/mt-tb.cgi?__mode=view&amp;entry_id=419" onclick="OpenTrackback(this.href); return false">TrackBack</a>

<br /></span>

</div>

<div class="comments-head"><a name="mailthisentry"></a>Mail this entry</div>

<form method="post" action="http://www.iunknown.com/cgi-bin/mt-send-entry.cgi">
<input type="hidden" name="entry_id" value="419" />
<input type="hidden" name="_redirect" value="http://www.iunknown.com/000419.html" />
Email this entry to:<br />
<input name="to" size="20" /><br /><br />
Your email address:<br />
<input name="from" size="20" /><br /><br />
Message (optional):<br />
<textarea name="message" rows="5" cols="20" wrap="virtual"></textarea><br /><br />
<input type="submit" value="Send" />
</form>


<div class="comments-head"><a name="comments"></a>Comments</div>

<div class="comments-body">
<p>Although I agree with Ian in that I wouldn't add an application server layer solely on security grounds, if an application server is present it should enforce security in order to contribute to "defence in depth", as Robert says. That way, when your web server admin and DBA both have a bad day, the app server might just save you.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://blogs.geekdojo.net/pdbartlett">Paul Bartlett</a> at February 26, 2004 04:29 AM</span>
</div>
<div class="comments-body">
<p>Ian and I have been having discussions about this in private, but it seems that it needs to become public now.  His post talks about SQL Server, but I deal with Oracle for my current project.  So much of Oracle forces you to stored open information, including client tools, on the server.  There are ways around this, of course, on the same box, but there can be limitations to what to what you are allowed to do.</p>

<p>As Sam has stated, and I will state more clearly, it also depends on your business needs.  If you are required to use multiple boxes (because of distributed access, as Ian points out), then you take advantage of what's also available.  That was the meaning of my post, and apparently it is taken to mean something completely different.</p>

<p>Yes, security is hard, and it does pay to make it simple.  I am a firm believer in NOT doing "security by obscurity".  John, and Ian, all I ask is you read the full context rather than pick and choose.  I will make it more clear shortly, though.</p>

<p>Thanks.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://weblogs.asp.net/rhurlbut">Robert Hurlbut</a> at February 26, 2004 08:26 AM</span>
</div>
<div class="comments-body">
<p>The fundamental problem is this: if I can lure your application server to do anything that the web server can do it doesn't really matter. I'll post a more detailed set of thoughts about this later on today.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.iunknown.com">John Lam</a> at February 26, 2004 10:30 AM</span>
</div>
<div class="comments-body">
<p>John, I appreciate your further thoughts on this.  Also, if you would, please address your current thoughts on Partial Trust ASP.NET pages as I also have that in mind as write secure sandboxed applications.  Thanks, Robert</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://weblogs.asp.net/rhurlbut">Robert Hurlbut</a> at February 26, 2004 12:04 PM</span>
</div>
<div class="comments-body">
<p>Thanks for the feedback, John.  Security is tough - I agree.  Unfortunately, it's even harder to talk on it for 6+ hours and interpret every question from a large group 100% correctly, while hitting every audience from the very beginners to the advanced developers :)</p>

<p>I agree there is no easy fix for security or a rogue administrator - but I disagree that there is nothing you can do to keep the data secret.  I remember this question clearly, so let me repeat my logic so I can understand where I went wrong.</p>

<p>Administrators can not obtain a user's account information.  They can only reset it.  My suggestion was to load a user profile - then encrypt the data w/ that profile using the DPAPI + user store.  (You can have the system prompt you for the profile information, to prevent that from being stored on the system)</p>

<p>While this is not a silver bullet - it does protect you in a few ways.  It prevents the admin from seeing the data.  If he/she deletes the profile they can't decrypt the data (yes, the data is lost at that point, but it hasn't been compromised).</p>

<p>I'd love to learn from you what is missing in my logic.</p>

<p>Side note: I do make a point to differentiate answers for which I am positive from those where I'm brainstorming, but I will take your feedback to heart that I need to make that distinction more clear.  Thanks again and look forward to the response.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.paul.bz/">Paul Murphy</a> at February 26, 2004 10:59 PM</span>
</div>
<div class="comments-body">
<p>Thanks for writing in, Paul. I think you have excellent speaking skills. However, it is also OK to admit when you don't know the answer. I suspect that I've been doing the speaking in front of large crowds thing for longer than you and I get stumped as well. It's just NOT OK to present information as the answer if you're not 100% sure.</p>

<p>For details on this issue, see my later post on this - http://www.iunknown.com/000423.html.</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.iunknown.com">John Lam</a> at February 27, 2004 07:53 AM</span>
</div>
<div class="comments-body">
<p>Thanks John - I do try to admit when I don't know, but I honestly thought I had a good idea there! :)  I totally agree - there is ALWAYS a way around, but to tell a developer there is nothing he/she can do to help keep the data secret is not the right approach.  Taking protective measures will help in 99% of the cases - for the remaining 1% where a rogue admin installs some type of spying software or snoops data before it gets sent encrypted, of course - they can see it.  I just don't think we should throw our hands up and say, ah.. oh well we can't make it 100% so lets not do anything at all.  I'm sure you see my point - and I totally see yours.  Thanks again for the suggestions, we'll have to meet up next time I'm in Toronto (or you're in Redmond)!  Paul</p>
<span class="comments-post">Posted by: <a target="_blank" href="http://www.paul.bz/">Paul Murphy</a> at February 27, 2004 12:11 PM</span>
</div>




</div>
</div>
</body>
</html>
