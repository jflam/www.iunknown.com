<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Less is better</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.iunknown.com/xml/rsd" />
  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/LessIsBetter" />
  <script src="/javascripts/cookies.js?1156231406" type="text/javascript"></script>
  <script src="/javascripts/prototype.js?1156231406" type="text/javascript"></script>
  <script src="/javascripts/effects.js?1156231406" type="text/javascript"></script>
  <script src="/javascripts/typo.js?1156231406" type="text/javascript"></script>
  
  <script type="text/javascript"></script>
  <link href="/stylesheets/theme/application.css?1164503575" media="all" rel="Stylesheet" type="text/css" />
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
    _uacct="UA-133590-1";
    urchinTracker();
  </script>
</head>

<body>
<div id="container">
  <div id="header">
    <h1><span><a href="/">Less is better</a></span></h1>
    <h2>John Lam on software</h2>
  </div>

  <div id="page">
    <div id="content">
      <div class="atomentry" id="article-121">
  <h2 class="title">
    <a href="/articles/2006/04/30/rubyclr-can-marshal-auto-layout-value-types">RubyCLR can marshal auto-layout value types</a> 
    
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-30T12:35:00-07:00"><span class="typo_date" title="Sun, 30 Apr 2006 19:35:00 GMT">Sun, 30 Apr 2006 19:35:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>Finally.</p>


	<p>This was a tough one. The <span class="caps">CLR</span> supports three types of value types: auto-layout, sequential, and explicit. A sequential value type is one whose fields are laid out in memory in the same order that they are declared in the type. An explicit value type is one whose fields are explicitly laid out in memory to achieve compatibility with some unmanaged data structure. An auto-layout value type is one where the <span class="caps">CLR</span> can rearrange fields to create the most efficient representation based on the target architecture.</p>


	<p>Clearly, auto-layout value types are very useful. However, if you want to marshal these things you&#8217;re likely to run into trouble. At the very least, you need to allocate enough memory to hold the value type&#8217;s fields and then copy the value type  into that buffer. The documented way of determining the size of a value type is to use <a href="http://msdn2.microsoft.com/en-us/library/system.runtime.interopservices.marshal.sizeof.aspx">System.Runtime.InteropServices.Marshal.SizeOf()</a>.</p>


	<p>However, it refuses to report the size of an auto-layout value type. So I have to resort to using the <span class="caps">CIL</span> <code>sizeof</code> instruction that provides the same information. But <code>sizeof</code> requires that you specify the type of the value type. So I have to generate a small dynamic method <strong>for every auto-layout dynamic that I have to determine the size of</strong>:</p>


<pre><code>
sizeof  &lt;type name&gt;
ret
</code></pre>

	<p>I execute and then cache the value in the Ruby class object. Yes, it&#8217;s a grotesque hack, but it does work. And for the time being, the size of auto-layout value types is fixed for the duration of the process, but this will change in the future.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/30/rubyclr-can-marshal-auto-layout-value-types#comments">no comments</a>,
      <a href="/articles/2006/04/30/rubyclr-can-marshal-auto-layout-value-types" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/121/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/121/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/30/rubyclr-can-marshal-auto-layout-value-types">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/30/rubyclr-can-marshal-auto-layout-value-types;title=RubyCLR can marshal auto-layout value types">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-119">
  <h2 class="title">
    <a href="/articles/2006/04/28/rubyclr-now-on-rubyforge">RubyCLR now on RubyForge</a> 
    <span class="comment_count">1</span>
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-28T12:20:00-07:00"><span class="typo_date" title="Fri, 28 Apr 2006 19:20:00 GMT">Fri, 28 Apr 2006 19:20:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>I finally spent some time this morning checking in the source code for RubyCLR into RubyForge.</p>


	<p>The project page is <a href="http://rubyforge.org/projects/rubyclr">http://rubyforge.org/projects/rubyclr</a>.</p>


	<p>You can <a href="http://rubyforge.org/plugins/scmsvn/viewcvs.php/?root=rubyclr">browse the Subversion repository</a> as well.</p>


	<p>If you want to check out the source code, just type this:</p>


	<p><code>svn checkout svn://rubyforge.org//var/svn/rubyclr</code></p>


	<p>This, of course, presumes that you have a  <a href="http://subversion.tigris.org/servlets/ProjectDocumentList?folderID=91">Subversion client</a> installed.</p>


	<p>This is the latest source that&#8217;s on my laptop. All of the unit tests pass on this build, but it&#8217;s not a packaged release. Consider it a daily build, use at own risk etc.</p>


	<p>Comments welcome.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/28/rubyclr-now-on-rubyforge#comments">1 comment</a>,
      <a href="/articles/2006/04/28/rubyclr-now-on-rubyforge" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/119/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/119/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/28/rubyclr-now-on-rubyforge">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/28/rubyclr-now-on-rubyforge;title=RubyCLR now on RubyForge">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-118">
  <h2 class="title">
    <a href="/articles/2006/04/27/blittable-vs-non-blittable-types">Blittable vs. non-blittable types</a> 
    
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-27T15:35:00-07:00"><span class="typo_date" title="Thu, 27 Apr 2006 22:35:00 GMT">Thu, 27 Apr 2006 22:35:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>Just the other day, I was attempting to marshal a DateTime value type from Ruby and RubyCLR blew up. Now I know why.</p>


	<p>I should have known better, but I failed to account for blittable vs. non-blittable value types in RubyCLR. I explicitly avoid boxing value types in RubyCLR by blitting the value type into memory that I explicilty allocate for the Ruby object.</p>


	<p>All of my value type marshaling tests were done on <a href="http://msdn2.microsoft.com/en-us/library/system.type.islayoutsequential(VS.80).aspx">sequential layout</a> types such as Point whose layout in managed memory is the same as they would be in unmanaged memory.</p>


	<p>The trick now is figuring out how to marshal auto layout value types generically across the interop boundary.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/27/blittable-vs-non-blittable-types#comments">no comments</a>,
      <a href="/articles/2006/04/27/blittable-vs-non-blittable-types" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/118/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/118/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/27/blittable-vs-non-blittable-types">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/27/blittable-vs-non-blittable-types;title=Blittable vs. non-blittable types">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-117">
  <h2 class="title">
    <a href="/articles/2006/04/27/parallels-beta-5-rocks">Parallels Beta 5 Rocks</a> 
    
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-27T13:15:00-07:00"><span class="typo_date" title="Thu, 27 Apr 2006 20:15:00 GMT">Thu, 27 Apr 2006 20:15:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>I installed Beta 5 of <a href="http://www.parallels.com">Parallels</a> last night. It now supports full screen (1440&#215;900) on my <span class="caps">MBP</span>. Combining it with the <a href="http://virtuedesktops.info/">Virtue</a> desktop manager, I can now toggle between <span class="caps">OS X</span> and Windows XP via a really cool &#8216;flip&#8217; animation and live the dual-OS lifestyle. I just pre-ordered my copy today.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/links" rel="tag">Props</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/27/parallels-beta-5-rocks#comments">no comments</a>,
      <a href="/articles/2006/04/27/parallels-beta-5-rocks" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/117/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/117/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/27/parallels-beta-5-rocks">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/27/parallels-beta-5-rocks;title=Parallels Beta 5 Rocks">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-116">
  <h2 class="title">
    <a href="/articles/2006/04/27/coming-up-for-air-at-vs-live">Coming up for air at VS Live!</a> 
    <span class="comment_count">3</span>
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-27T10:37:00-07:00"><span class="typo_date" title="Thu, 27 Apr 2006 17:37:00 GMT">Thu, 27 Apr 2006 17:37:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>The last week or so of silence was due to a nasty virus that swept across the Lam household, and we&#8217;re finally pulling out of it now. I didn&#8217;t really get it, but everyone else did, which meant that I had take care of everyone else.</p>


	<p>I managed to get away yesterday to give my keynote on <a href="http://www.ftponline.com/conferences/vslive/2006/toronto/keynotes.aspx">The Future of Programming Languages</a> at VS Live! in Toronto. It was a fun time, and my first Lessig/Takahashi-style talk. Hopefully the attendees had as much fun as I had delivering it. It was also my first experience giving a talk with <a href="http://www.apple.com/iwork/keynote/">Keynote</a>, and I was very happy with both the authoring and the presentation experience.</p>


	<p>Here&#8217;s the <a href="http://www.iunknown.com/images/vslive_keynote.pdf"><span class="caps">PDF</span> of the slides from my talk</a>. As a Lessig/Takahashi-style talk, it&#8217;s not all that useful if you didn&#8217;t see the talk, but it&#8217;s worth a look if you&#8217;re interested in seeing one approach for motivating Ruby to a statically typed language audience.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/27/coming-up-for-air-at-vs-live#comments">3 comments</a>,
      <a href="/articles/2006/04/27/coming-up-for-air-at-vs-live" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/116/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/116/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/27/coming-up-for-air-at-vs-live">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/27/coming-up-for-air-at-vs-live;title=Coming up for air at VS Live!">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-115">
  <h2 class="title">
    <a href="/articles/2006/04/18/rubyclr-now-lets-you-implement-clr-interfaces-in-ruby">RubyCLR now lets you implement CLR interfaces in Ruby</a> 
    
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-18T17:57:00-07:00"><span class="typo_date" title="Wed, 19 Apr 2006 00:57:00 GMT">Wed, 19 Apr 2006 00:57:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>The first pass of the code for implementing <span class="caps">CLR</span> interfaces in Ruby is now working. Here&#8217;s a simple example of implementing <code>IEnumerator</code> in Ruby:</p>


<pre><code>
class RubyEnumerator
  implements IEnumerator

  def initialize(ruby_object)
    @position = -1
    @ruby_object = ruby_object
  end

  # NOTE: hack for properties - will be "current" when done
  def get__current
    @ruby_object[@position]
  end

  def move_next
    @position += 1
    @ruby_object.length != @position
  end

  def reset
    @position = -1
  end
end
</code></pre>

	<p>Here&#8217;s the modification to the Ruby <code>Array</code> class to support <code>IEnumerable</code>:</p>


<pre><code>
class Array
  implements IEnumerable

  def get_enumerator
    RubyEnumerator.new(self)
  end
end
</code></pre>

	<p>Here&#8217;s the set of unit tests that validates this behavior. Note the use of inlined C#:</p>


<pre><code>
class ImplicitDataBindingTests &lt; TestCase
  inline :csharp do |compiler|
    compiler.compile &lt;&lt;-EOF
      using System.Collections;
      namespace RubyClr.Tests {
        public class RubyArrayDataBindingTarget {
          public static int[] EnumArray(IEnumerable obj) {
            ArrayList al = new ArrayList();
            foreach(int current in obj)
              al.Add(current);
            return (int[])al.ToArray(typeof(int));
          }
        }
      }
    EOF
  end

  def test_array_bind
    numbers = [1, 2, 3, 4, 5]
    result = RubyArrayDataBindingTarget.enum_array(numbers)
    assert_equal 1, result[0]
    assert_equal 5, result[4]
  end
end
</code></pre>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/18/rubyclr-now-lets-you-implement-clr-interfaces-in-ruby#comments">no comments</a>,
      <a href="/articles/2006/04/18/rubyclr-now-lets-you-implement-clr-interfaces-in-ruby" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/115/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/115/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/18/rubyclr-now-lets-you-implement-clr-interfaces-in-ruby">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/18/rubyclr-now-lets-you-implement-clr-interfaces-in-ruby;title=RubyCLR now lets you implement CLR interfaces in Ruby">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-114">
  <h2 class="title">
    <a href="/articles/2006/04/17/rubyclr-progress-on-implementing-clr-interfaces">RubyCLR progress on implementing CLR interfaces</a> 
    <span class="comment_count">3</span>
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-17T00:19:00-07:00"><span class="typo_date" title="Mon, 17 Apr 2006 07:19:00 GMT">Mon, 17 Apr 2006 07:19:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>A major new feature of RubyCLR is implementing <span class="caps">CLR</span> interfaces using Ruby. This will provide most of the goodness of the &#8216;how do I call Ruby code from my .NET code?&#8217; scenario without having to derive a Ruby class from a .NET class (a much harder problem).</p>


	<p>A key driver for this scenario is supporting data binding without having to hand-write <span class="caps">CLR</span> wrapper classes for those interfaces (right now I only support calling Ruby code via delegates). This support is there in the current drop, but will be completely rewritten in Ruby in the next drop.</p>


	<p>However, I ran into numerous blocking issues over the past week. True, I was distracted setting up my new MacBook Pro, but I resumed work mid-week on RubyCLR and fought issues in both Ruby and Reflection.Emit (I&#8217;m pretty sure I found a bug in ILGenerator). I&#8217;ve got workarounds for all of those issues, so I&#8217;m pretty sure I can get something up and running tomorrow.</p>


	<p>More news soon.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/17/rubyclr-progress-on-implementing-clr-interfaces#comments">3 comments</a>,
      <a href="/articles/2006/04/17/rubyclr-progress-on-implementing-clr-interfaces" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/114/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/114/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/17/rubyclr-progress-on-implementing-clr-interfaces">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/17/rubyclr-progress-on-implementing-clr-interfaces;title=RubyCLR progress on implementing CLR interfaces">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-113">
  <h2 class="title">
    <a href="/articles/2006/04/13/configuring-parallels-for-windows-xp">Configuring Parallels for Windows XP</a> 
    <span class="comment_count">15</span>
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-13T10:03:00-07:00"><span class="typo_date" title="Thu, 13 Apr 2006 17:03:00 GMT">Thu, 13 Apr 2006 17:03:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>I drive my computer using my keyboard. The major disadvantage of Macs to me is that they are missing 4 critical keys: Page Up/Down, Start and End. This makes navigating around when I&#8217;m running Windows under <a href="http://www.parallels.com">Parallels</a> a royal pain.</p>


	<p>What&#8217;s worse though is the default behavior of how Parallel&#8217;s keyboard driver maps the Mac Command keys to Windows; they&#8217;re mapped to the Windows key by default. Now, the position of the Command key is identical to where the <span class="caps">ALT</span> key is in most Windows keyboards so this was a major source of pain. A secondary source of pain is the fact that there is no Delete key as well, but there is a superflous Enter key where the Delete key normally lives on a Windows keyboard. Here&#8217;s a magic registry hack that I cooked up this morning that will solve this problem. Just paste this code into a .reg file and run:</p>


<pre><code>
[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layout]
"Scancode Map"=hex:00,00,00,00,00,00,00,00,03,00,00,00,53,e0,1c,e0,38,00,5b,e0,\
  00,00,00,00
</code></pre>

	<p>This will map the Command keys back to the <span class="caps">ALT</span> key, and the Enter key to the Delete key. Now I can undo the <a href="http://www.iunknown.com/articles/2006/04/12/configuring-os-x">DoubleCommands</a> hack that I blogged about yesterday. Which means that my Mac feels more Mac-like and my Windows feels more Windows-like. Now if only I could hack those missing keys into the keyboard &#8230;</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/13/configuring-parallels-for-windows-xp#comments">15 comments</a>,
      <a href="/articles/2006/04/13/configuring-parallels-for-windows-xp" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/113/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/113/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/13/configuring-parallels-for-windows-xp">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/13/configuring-parallels-for-windows-xp;title=Configuring Parallels for Windows XP">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-112">
  <h2 class="title">
    <a href="/articles/2006/04/12/configuring-os-x">Configuring OS X</a> 
    <span class="comment_count">3</span>
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-12T21:49:00-07:00"><span class="typo_date" title="Thu, 13 Apr 2006 04:49:00 GMT">Thu, 13 Apr 2006 04:49:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>I spent some time today setting up <span class="caps">OS X</span> the way I want it to be on my new MacBook Pro. At the very least I need it to be as usable as the Windows XP host OS on my <span class="caps">M200</span>. So here&#8217;s the apps that I need to configure and get working:</p>


	<p>1. Mail. It took a while to get the Exchange Server support in Mail up and running, but it works fine if your Exchange server has <span class="caps">IMAP4</span> support enabled (mine didn&#8217;t by default). All my mail is now synchronized inside of Apple&#8217;s Mail application, and it&#8217;s all accessible via Spotlight. The more I use Spotlight the more amazed I am. It&#8217;s better than Google Desktop Search, so +1 for the <span class="caps">MBP</span> so far.</p>


	<p>2. <a href="http://quicksilver.blacktree.com/">QuickSilver</a>. The combination of QuickSilver + Spotlight is devastating. <span class="caps">CTRL</span>-Space is mapped to QuickSilver and Command-Space is mapped to Spotlight. It makes me ridiculously productive with my hands never leaving the keyboard. In fact, QuickSilver is so good, that I rarely find myself using Expose or Command-Tab. I just hit <span class="caps">CTRL</span>-Space and type the first letter or two of the app that I want to run and <em>it just works</em>.</p>


	<p><img src="http://static.flickr.com/48/127726947_df0806340c_o.png" alt="" /></p>


	<p>3. <a href="http://www.adiumx.com/">Adium</a>. This is a multi-protocol IM client that supports tabbed windows, and has a <em>beautiful</em> interface. I can now IM folks using both <span class="caps">MSN</span> and Google Talk without any difficulties. File transfer works great as well.</p>


	<p><img src="http://static.flickr.com/51/127726931_16aa1e3aea_o.png" alt="" /></p>


	<p>4. <a href="http://ranchero.com/netnewswire/">NetNewsWire</a> I really like this <span class="caps">RSS</span> reader. On Windows I was using <a href="http://www.jetbrains.com/omea/">Omea Pro</a> which was OK but it had enough annoying idiosyncracies (er bugs) that I soured on it. So far the only thing I would really like to see in NetNewsWire is support for adding blog posts directly to <a href="http://del.icio.us">del.icio.us</a> and Spotlight integration. The latter would rock since I often want to find something inside of blog posts that I save in my reader.</p>


	<p><img src="http://static.flickr.com/51/127726941_6364d1b43e.jpg" alt="" /></p>


	<p>5. <a href="http://wiki.mozilla.org/Mac:Intel">FireFox 1.5.0.2</a> Make sure you get the Universal Binary version as the other version is way too slow to be useful. I need my extensions!</p>


	<p>6. <a href="http://www.ragingmenace.com/software/menumeters/">MenuMeters</a> I totally love this software. I have Disk I/O and <span class="caps">CPU</span> thermometer + % displayed in my menu. It helps me diagose problems in a hurry.</p>


	<p><img src="http://static.flickr.com/34/127726932_815744eed3_o.png" alt="" /></p>


	<p>7. <a href="http://www.parallels.com">Parallels Beta 3</a>. I can now run Windows hosted inside of <span class="caps">OS X</span>! I was really annoyed by a number of things in Beta 2, but these guys are revving their software fast and squashing bugs flat. All of my issues with Beta 2 are now fixed except for the I-beam cursor bug in their video driver (I use black backgrounds for my text editors and the I-beam is black by default making it invisible). So you&#8217;ll need to change your text selection cursor to one of the I-beams that have a white &#8216;halo&#8217;.</p>


	<p>8. <a href="http://doublecommand.sourceforge.net/">DoubleCommand</a> lets you remap keys on the keyboard. I hate the fact that under Windows the Option key is treated as the <span class="caps">ALT</span> key. So I changed the mapping using DoubleCommand to swap the Option / Command keys on the left side of the keyboard and the Enter / Command keys on the right side of the keyboard. This makes it a bit more awkward to use Mac applications, but it makes my Windows experience <em>much</em> better (more muscle memory there). It would rock if Parallels would automatically remap the Command key to <span class="caps">ALT</span> inside of their virtual machines that run Windows (or make this configurable).</p>


	<p><strong>Update:</strong> I no longer need DoubleCommand, as I am now <a href="http://www.iunknown.com/articles/2006/04/13/configuring-parallels-for-windows-xp">remapping those keys in Windows using a registry hack</a></p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/12/configuring-os-x#comments">3 comments</a>,
      <a href="/articles/2006/04/12/configuring-os-x" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/112/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/112/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/12/configuring-os-x">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/12/configuring-os-x;title=Configuring OS X">reddit</a>
    </li>
  </ul>
</div>
<div class="atomentry" id="article-111">
  <h2 class="title">
    <a href="/articles/2006/04/10/macbook-pro-notes">MacBook Pro Notes</a> 
    
  </h2>

  <p class="author">
    Posted by <cite><a href="mailto:jlam@iunknown.com">John Lam</a></cite>
    <abbr class="published" title="2006-04-10T23:34:00-07:00"><span class="typo_date" title="Tue, 11 Apr 2006 06:34:00 GMT">Tue, 11 Apr 2006 06:34:00 GMT</span></abbr>
  </p>

  <div class="content">
    <p>My MacBook Pro is going to be my primary computer, so I&#8217;m taking my time to setup <span class="caps">OS X</span> the way I want it to be.</p>


	<p>So far <a href="http://www.parallels.com">Parallels</a> is working fine. I&#8217;ve got my dev tools setup in a Parallels VM and things are going well. Ruby&#8217;s in there, VS.NET 2005 is installed, and I just successfully did a build of RubyCLR and all of the tests just passed.</p>


	<p>Performance is a bit disappointing though. Parallels is running my test suite about 25% slower than vmware on my Toshiba <span class="caps">M200</span>, which runs a slower <span class="caps">CPU</span> (1.8GHz Pentium M vs. 1.83GHz Core Duo). It&#8217;s a single-threaded set of tests so I&#8217;m not expecting the second core to amount to much.</p>


	<p>Hopefully either Parallels fixes the perf problems that I&#8217;m seeing or VMWare does a better job. Either way, though it&#8217;s usable  as an everyday OS. Worst case I&#8217;ll have to live with the perf of my Opteron 175 :)</p>


	<p>The hardest thing to get used to is the keyboard mappings. I have to figure out if I can remap the Command key on my Mac to an <span class="caps">ALT</span> key a&#8217;la Windows. My fingers are just programmed to hit those keyboard positions.</p>


	<p><strong>Update:</strong> I just found <a href="http://doublecommand.sourceforge.net/">DoubleCommand</a> which lets me remap the <span class="caps">ALT</span> and Command keys. Everything feels much better now.</p>


	<p>I also had to update my <span class="caps">RSS</span> Reader. On Windows I used <a href="http://www.jetbrains.com/omea/">Omea Pro</a> but since my host OS will be <span class="caps">OS X</span>, I&#8217;m going to try out <a href="http://ranchero.com/netnewswire/">NetNewsWire</a>. When I exported my feeds from Omea Pro, I was pleasantly surprised that NetNewsWire retained all of my custom feed names (I don&#8217;t like using the title of the feed, instead I like using the name of the author). Looks like a keeper.</p>

      
  </div>

  <ul class="meta">
    <li class="categories">Posted in <a href="/articles/category/thoughts" rel="tag">Thoughts</a></li>
    
    <li>Meta 
      
      <a href="/articles/2006/04/10/macbook-pro-notes#comments">no comments</a>,
      <a href="/articles/2006/04/10/macbook-pro-notes" rel="bookmark">permalink</a>,
      <a href="http://www.iunknown.com/xml/rss/article/111/feed.xml">rss</a>,    
      <a href="http://www.iunknown.com/xml/atom/article/111/feed.xml">atom</a>, 
      <a title='digg this' href="http://digg.com/submit?phase=2&url=/articles/2006/04/10/macbook-pro-notes">digg this</a>, 
      <a title='reddit' href="http://reddit.com/submit?url=/articles/2006/04/10/macbook-pro-notes;title=MacBook Pro Notes">reddit</a>
    </li>
  </ul>
</div>


<p class="pagination">Older posts: 1 <a href="/articles/2006/04/page/2">2</a> </p>

      <script type="text/javascript">
//<![CDATA[
show_dates_as_local_time()
//]]>
</script>
    </div>

    <div id="sidebar">
      <!-- search -->
      <div id="search" class="search">
	<form action="/articles/search" id="sform" method="get">
	  <p><input type="text" id="q" name="q" value="" /></p>
	</form>
	
	<div id="loading" class="loading" style="display:none;">Searching...</div>
	<div id="results" class="results"></div>
  <script type="text/javascript">
//<![CDATA[
new Form.Element.Observer('q', 1, function(element, value) {new Ajax.Updater('results', '/live/search', {asynchronous:true, evalScripts:true, onComplete:function(request){Element.hide('loading')}, onLoading:function(request){Element.show('loading')}, parameters:'q=' + escape($F('q'))})})
//]]>
</script>
</div>


      <!-- sidebar components -->
      
      
<div class="sidebar-node">
  <h3>John Lam</h3>
<a href="/pages/about_me"><img src="http://static.flickr.com/90/222479189_d4e19a202c_t.jpg" width="67" height="100" alt="Self portrait" /></a>

<p>I am a software developer living in Toronto, Canada. I write .NET and Ruby code on a Mac. I'm the creator of <a href="http://www.rubyclr.com">RubyCLR</a>, a high performance bridge between Ruby and .NET. I'm a Partner at <a href="http://www.objectsharp.com"><b>Object</b>Sharp</a>, and am available to help you with your Ruby or .NET projects. <a href="/pages/about_me">More ...</a>

<table>
<tr>
  <td>email:</td>
  <td>jlam@iunknown.com</td>
</tr>
<tr>
  <td>phone:</td>
  <td>647 836 3718</td>
</tr>
<tr>
  <td>msn:</td>
  <td>drjflam@hotmail.com</td>
</tr>
<tr>
  <td>gtalk:</td>
  <td>drjflam@gmail.com</td>
</tr>
</table>
<br>
<h3>Syndicate</h3>

<p><a href="http://feeds.feedburner.com/LessIsBetter"><img src="/images/rss.png"/></a>&nbsp;
<a href="http://feeds.feedburner.com/LessIsBetter"><img src="http://feeds.feedburner.com/~fc/LessIsBetter?bg=FF9900&amp;fg=000000&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>
<br>
<form style="padding:3px;text-align:left;" action="http://www.feedburner.com/fb/a/emailverify" method="post" target="popupwindow" onsubmit="window.open('http://www.feedburner.com', 'popupwindow', 'scrollbars=yes,width=550,height=520');return true"><p>Subscribe by email:</p><p><input type="text" style="width:140px" name="email"/></p><input type="hidden" value="http://feeds.feedburner.com/~e?ffid=180551" name="url"/><input type="hidden" value="Less is better" name="title"/><input type="submit" value="Subscribe" /><p>Delivered by <a href="http://www.feedburner.com/" target="_blank">FeedBurner</a></p></form>

</div>


      
<div class="sidebar-node">
    <div id="delicious">
    <h3><a href="http://del.icio.us/drjflam">del.icio.us/drjflam</a></h3>
            <ul>
      
      <li>
        <a href="http://www.teach12.com/" title="Bill Gates listens to the lectures from this company - available as downloads as well.">The Teaching Company</a>
              </li>
      
      <li>
        <a href="http://www.speedtest.net/" title="Found this via StumbleUpon">Speedtest.net - The Global Broadband Speed Test</a>
              </li>
      
      <li>
        <a href="http://wvs.topleftpixel.com/flash/cntower_timelapse.swf" title="Move your mouse around this picture and see it change.">Downtown Toronto Photo</a>
              </li>
      
      <li>
        <a href="ftp://gatekeeper.dec.com/pub/DEC/WRL/research-reports/WRL-TR-95.7.pdf" title="">Shared Memory Consistency Models</a>
              </li>
      
      <li>
        <a href="http://discuss.develop.com/archives/wa.exe?A2=ind0203B&amp;L=DOTNET&amp;P=R375" title="An excellent discussion on the motivation for and implementation of the CLR memory model.">Vance Morrison on CLR Memory Model</a>
              </li>
      
      <li>
        <a href="http://slideshare.net/" title="A YouTube like service for sharing slides from talks.">SlideShare</a>
              </li>
      
      <li>
        <a href="http://research.microsoft.com/manuvir/papers/instruction_level_tracing_VEE06.pdf" title="This is MSR's Nirvana framework for dynamically injecting tracing code into x86 binaries at runtime. It lets them travel forwards and backwards in execution flow ('time travel debugging').">Framework for Instruction-level Tracing and Analysis of Program Executions</a>
              </li>
      
      <li>
        <a href="http://www.macgeekery.com/hacks/software/video/how_to_view_tivo_recordings_on_your_mac_or_ipod" title="Looking forward to setting this up ...">How to View TiVo Recordings on Your Mac or iPod</a>
              </li>
      
      <li>
        <a href="http://uneasysilence.com/archive/2006/12/8602/" title="Wow - this is really nice seamless integration - Windows apps appearing to run as 'top-level' windows on Mac OS X desktop.">Parallels running IE7 &amp; Firefox on Mac OS X desktop!</a>
              </li>
      
      <li>
        <a href="http://www.ldc.upenn.edu/Catalog/CatalogEntry.jsp?catalogId=LDC2006T13" title="Google recently released their collection of 1-grams (single word frequency) to 5-grams (5 word frequency) as a 24GB compressed gzip'd file.">Google's collection of 1-5 grams</a>
              </li>
      
      <li>
        <a href="http://home.allegiance.tv/~joem298/" title="How to reinstall your Windows XP image on a Toshiba M200 using a PXE server">Install Windows XP image on M200 Tablet without an external DVD drive</a>
              </li>
          </ul>
      </div>

</div>


      
<div class="sidebar-node">
  <h3>My Photos</h3>
<style type="text/css">
.zg_div {margin:0px 5px 5px 0px; width:117px;}
.zg_div_inner {background-color:#ffffff;  color:#666666; text-align:center; font-family:arial, helvetica; font-size:11px;}
.zg_div a, .zg_div a:hover, .zg_div a:visited {color:#3993ff; background:inherit !important; text-decoration:none !important;}
</style>
<script type="text/javascript">
zg_insert_badge = function() {
var zg_bg_color = 'ffffff';
var zgi_url = 'http://www.flickr.com/apps/badge/badge_iframe.gne?zg_bg_color='+zg_bg_color+'&zg_person_id=23649168%40N00';
document.write('<iframe style="background-color:#'+zg_bg_color+'; border-color:#'+zg_bg_color+'; border:none;" width="113" height="151" frameborder="0" scrolling="no" src="'+zgi_url+'" title="Flickr Badge"><\/iframe>');
if (document.getElementById) document.write('<div id="zg_whatlink"><a href="http://www.flickr.com/badge_new.gne"	style="color:#3993ff;" onclick="zg_toggleWhat(); return false;">what is this?<\/a><\/div>');
}
zg_toggleWhat = function() {
document.getElementById('zg_whatdiv').style.display = (document.getElementById('zg_whatdiv').style.display != 'none') ? 'none' : 'block';
document.getElementById('zg_whatlink').style.display = (document.getElementById('zg_whatdiv').style.display != 'none') ? 'none' : 'block';
return false;
}
</script>
<div class="zg_div"><div class="zg_div_inner"><a href="http://www.flickr.com">www.<strong style="color:#3993ff">flick<span style="color:#ff1c92">r</span></strong>.com</a><br>
<script type="text/javascript">zg_insert_badge();</script>
<div id="zg_whatdiv">This is a Flickr badge showing public photos from <a href="http://www.flickr.com/photos/23649168@N00">John Lam</a>. Make your own badge <a href="http://www.flickr.com/badge_new.gne">here</a>.</div>
<script type="text/javascript">if (document.getElementById) document.getElementById('zg_whatdiv').style.display = 'none';</script>
</div>
</div>

</div>


      
<div class="sidebar-node">
  
<h3>Archives</h3>
<ul id="archives">
  
    <li>
      <a href="/articles/2006/12">December 2006</a>
      <em>(1)</em>
    </li>
  
    <li>
      <a href="/articles/2006/11">November 2006</a>
      <em>(2)</em>
    </li>
  
    <li>
      <a href="/articles/2006/10">October 2006</a>
      <em>(8)</em>
    </li>
  
    <li>
      <a href="/articles/2006/9">September 2006</a>
      <em>(12)</em>
    </li>
  
    <li>
      <a href="/articles/2006/8">August 2006</a>
      <em>(39)</em>
    </li>
  
    <li>
      <a href="/articles/2006/7">July 2006</a>
      <em>(29)</em>
    </li>
  
    <li>
      <a href="/articles/2006/6">June 2006</a>
      <em>(23)</em>
    </li>
  
    <li>
      <a href="/articles/2006/5">May 2006</a>
      <em>(34)</em>
    </li>
  
    <li>
      <a href="/articles/2006/4">April 2006</a>
      <em>(13)</em>
    </li>
  
    <li>
      <a href="/articles/2006/3">March 2006</a>
      <em>(21)</em>
    </li>
  
    <li>
      <a href="/articles/2006/2">February 2006</a>
      <em>(25)</em>
    </li>
  
    <li>
      <a href="/articles/2006/1">January 2006</a>
      <em>(9)</em>
    </li>
  
    <li>
      <a href="/articles/2005/12">December 2005</a>
      <em>(22)</em>
    </li>
  
    <li>
      <a href="/articles/2005/11">November 2005</a>
      <em>(17)</em>
    </li>
  
    <li>
      <a href="/articles/2005/10">October 2005</a>
      <em>(6)</em>
    </li>
  
</ul>


</div>


      
<div class="sidebar-node">
  <h3>Tags</h3>
<p style="overflow:hidden">
<span style="font-size:66.6666666666667%"><a href="/articles/tag/barcampearthtoronto">BarCampEarthToronto</a></span>
<span style="font-size:135.135135135135%"><a href="/articles/tag/dynamiclanguages">DynamicLanguages</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/ironpython">IronPython</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/life">Life</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/mac">Mac</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/marketing">Marketing</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/microsoft">Microsoft</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/parenting">Parenting</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/photography">Photography</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/platforms">Platforms</a></span>
<span style="font-size:200%"><a href="/articles/tag/props">Props</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/python">Python</a></span>
<span style="font-size:200%"><a href="/articles/tag/ruby">Ruby</a></span>
<span style="font-size:200%"><a href="/articles/tag/rubyclr">RubyCLR</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/rubyconf">RubyConf</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/secondlife">SecondLife</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/simplicity">simplicity</a></span>
<span style="font-size:200%"><a href="/articles/tag/thoughts">Thoughts</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/vim">Vim</a></span>
<span style="font-size:66.6666666666667%"><a href="/articles/tag/workspaces">workspaces</a></span>
</p>


</div>


      
<div class="sidebar-node">
  <h3>Categories</h3>
<ul id="categories">
  
  <li><a href="/articles/category/personal">Life</a> <em>(18)</em></li>
  
  
  <li><a href="/articles/category/links">Props</a> <em>(58)</em></li>
  
  
  <li><a href="/articles/category/thoughts">Thoughts</a> <em>(148)</em></li>
  
</ul>


</div>


  


    </div>
    <br style="clear:both;" />
  </div>

  <div id="footer">
    <hr />
    <p><a href="/">Less is better</a></p>
    <ul>
      <li>powered by <a href="http://typosphere.org">typo</a> /
          styled with <a href="http://quotedprintable.com/pages/scribbish">scribbish</a></li>
    </ul>
  </div>
</div>
</body>
</html>
