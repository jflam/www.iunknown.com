<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Less is better</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  
  <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.iunknown.com/xml/rsd/feed.xml" />
  <link href="http://feeds.feedburner.com/LessIsBetter" rel="alternate" title="RSS" type="application/rss+xml"/>
  <link href="/stylesheets/theme/azure.css" media="screen" rel="Stylesheet" type="text/css" />
  <link href="/stylesheets/theme/local.css" media="screen" rel="Stylesheet" type="text/css" />
  <script src="/javascripts/cookies.js" type="text/javascript"></script>
  <script src="/javascripts/prototype.js" type="text/javascript"></script>
  <script src="/javascripts/effects.js" type="text/javascript"></script>
  <script src="/javascripts/typo.js" type="text/javascript"></script>
  <script type="text/javascript"></script>
  <script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
  <script type="text/javascript">
    _uacct="UA-133590-1";
    urchinTracker();
  </script>
</head>
<body>
  <div id="container" class="clearfix">
     <div id="header">
        <div id="logo">
          <h1 id="sitename"><a href="/">Less is better</a></h1>
          <h2 id="subtitle">John Lam on software</h2>
        </div>
      </div>
      
      <div id="content" class="clearfix">
        <div id="main">
          <img id="photo" src='http://static.flickr.com/26/55383834_e4b27af640.jpg?v=0' alt='Self Portrait'/>
           <div class="post">
  <h2><a href="/articles/2005/11/02/help-wanted">Help Wanted!</a></h2>
<p class="auth">Posted by <a href="mailto:jlam@iunknown.com">John Lam</a>
<span class="typo_date" title="Wed, 02 Nov 2005 16:32:00 GMT">Wed, 02 Nov 2005 16:32:00 GMT</span></p>
<p>Business is booming these days and, like a lot of other companies, we need help.</p>


	<p>If you&#8217;re an <span class="caps">ASP</span>.NET or Windows Forms developer based in the Toronto area, we definitely want to hear from you.</p>


	<p>If you&#8217;re a Ruby developer in the Toronto area, we definitely want to hear from you.</p>


	<p>Please feel free to <a href="mailto:jlam@iunknown.com">send me</a> plain text or <span class="caps">PDF</span> resumes (no Word documents please) and we&#8217;ll be in touch.</p>

    
  <p class="meta">Posted in <a href="/articles/category/personal" rel="category tag">Life</a>&nbsp;<strong>|</strong>&nbsp;<a href="/articles/2005/11/02/help-wanted#comments">no comments</a></p> 
  </div>
 <div class="post">
  <h2><a href="/articles/2005/11/02/my-ruby-dev-environment">My Ruby Dev Environment</a></h2>
<p class="auth">Posted by <a href="mailto:jlam@iunknown.com">John Lam</a>
<span class="typo_date" title="Wed, 02 Nov 2005 12:00:00 GMT">Wed, 02 Nov 2005 12:00:00 GMT</span></p>
<p><a href="http://www.biasecurities.com/blogs/jim/">Jim Geurts</a> emailed me to ask about my dev environment for Ruby. So I
created this blog entry to talk about what my setup is.</p>


	<p>I use both a Mac and a PC to do Ruby development. When I&#8217;m doing Rails
development, I often use my PowerBook. I spent a bunch of time preparing for
a cross-platform lifestyle by learning the emacs keybindings this
summer. So far it&#8217;s paid off since I&#8217;m quite comfortable in that
editor in both environments. I even hacked emacs to re-enable
ClearType support so that Consolas looks the way it was intended to
look.</p>


	<p>That said, there&#8217;s a lot of buzz around <a href="http://macromates.com/">TextMate</a> as a dev
environment for Rails. It&#8217;s certainly all the rage with the rails-core
members. I&#8217;m going to consider spending some time in the near future
working with it as I rebuild our corporate web site using Rails.</p>


	<p>Obviously, I&#8217;m building my Ruby <-> <span class="caps">CLR</span> bridge using
Windows. I&#8217;m still running <span class="caps">VS 2005 </span>Beta 2 since a lot of my
applications have a dependency on WinFX which doesn&#8217;t yet work with
the <span class="caps">RTM</span> version of <span class="caps">VS 2005</span>. As soon as there&#8217;s a solid WinFX build
that lives on top of the Whidbey <span class="caps">RTM</span> bits I&#8217;m going to switch.</p>


	<p>If you&#8217;re a Windows dev and want to get Ruby and Rails up and running
as quickly as possible, I highly recommend <a href="http://blog.curthibbs.us/">Curt Hibbs</a> most excellent
<a href="http://rubyforge.org/projects/instantrails/">Instant Rails</a> package. This package includes a preconfigured Apache,
Ruby, Rails, and MySQL configuration that lives in a single directory
tree.</p>


	<p>If you don&#8217;t care about Rails and only want to do Ruby work, then get
Curt&#8217;s <a href="http://rubyinstaller.rubyforge.org/wiki/wiki.pl">One Click Ruby Installer</a>.</p>


	<p>You&#8217;ll need some documentation as well &#8211; Curt bundles a .CHM file of
the first edition of the excellent Programming Ruby book (aka &#8220;The
PickAxe&#8221;) by Dave Thomas. I find that this is all that I need for my
day-to-day work in Ruby, even though I own a dead-trees version of the
2nd Edition of the PickAxe book. I would recommend getting the <a href="http://www.pragmaticprogrammer.com/titles/ruby/index.html">PDF
version</a> of the book if you live a mobile laptop lifestyle like I do.</p>


	<p>If you want to explore Rails, then I would highly recommend Dave
Thomas and David Hansson&#8217;s excellent <a href="http://www.pragmaticprogrammer.com/titles/rails/index.html">Agile Web Development With
Rails</a> book. I purchased the <span class="caps">PDF</span> version so that I don&#8217;t have to lug
the book around with me.</p>


	<p>If Apple lives up to its commitment to not prevent Windows from
running on their next-generation Powerbooks, I&#8217;m going to switch to
Apple hardware full-time for both Windows and Ruby development. It
should be awesome to have a dual-core <span class="caps">CPU</span> laptop than can dual boot
both Vista and Mac <span class="caps">OS X</span> by middle of next year.</p>

    
  <p class="meta">Posted in <a href="/articles/category/thoughts" rel="category tag">Thoughts</a>&nbsp;<strong>|</strong>&nbsp;<a href="/articles/2005/11/02/my-ruby-dev-environment#comments">2 comments</a></p> 
  </div>
 <div class="post">
  <h2><a href="/articles/2005/11/01/why-another-ruby-to-clr-bridge">Why another Ruby to CLR bridge?</a></h2>
<p class="auth">Posted by <a href="mailto:jlam@iunknown.com">John Lam</a>
<span class="typo_date" title="Tue, 01 Nov 2005 12:00:00 GMT">Tue, 01 Nov 2005 12:00:00 GMT</span></p>
<p>There are at least two other Ruby to <span class="caps">CLR</span> bridges. There is the <a href="http://www.saltypickle.com/rubydotnet">Salty
Pickle bridge</a> written by John Pierce and Ben Schroeder, and there is another bridge
written by <a href="http://sourceforge.net/projects/rubydotnet">Thomas Sondergaard</a>. These bridges heavily leverage the
existing <span class="caps">CLR </span>Reflection <span class="caps">API</span> and its dynamic method invocation
infrastructure.</p>


	<p>Because of this, these bridges are not particularly
efficient in either space or time. Reflective method invocation is a
very heavyweight operation, as <a href="http://www.saltypickle.com/RubyDotNet/20">these benchmarks</a> will bear
out. Furthermore, if value types are marshaled across the boundary,
these objects will be boxed and placed on the <span class="caps">CLR GC</span> heap, resulting
in an increase in memory pressure.</p>


	<p>Writing my own bridge lets me fix these problems, and it gave me an
excuse to study the Ruby extension interfaces and the <span class="caps">CLR V2</span>
lightweight code generation <span class="caps">API</span>. It also gave me an excuse to try out
<a href="http://blogs.msdn.com/slippman/">Stan Lippman&#8217;s</a> excellent work in fixing the Managed C++ syntax in
Whidbey.</p>


	<p>My bridge addresses method invocation performance by generating <span class="caps">CIL</span>
stubs on the fly using the new <a href="http://msdn2.microsoft.com/en-us/library/80h6baz2.aspx">DynamicMethod</a> API in Whidbey. These
<span class="caps">CIL</span> stubs are directly bound to the Ruby object&#8217;s methods. So once
those <span class="caps">CIL</span> stubs have been JITed by the <span class="caps">CLR</span>, a method call from Ruby
goes <strong>directly</strong> into managed code. The only overhead is that incurred
by marshaling parameters from their Ruby representation to the
corresponding <span class="caps">CLR</span> representation.</p>


	<p><strong>Update:</strong></p>


	<p>From my comments, Anson Tsao mentioned a couple of other folks I should credit for the MC++ syntax:</p>


	<blockquote>
		<p>There are a couple of other folks you should credit for the C++/CLI design. <a href="http://www.gotw.ca/">Herb Sutter</a> and <a href="http://blogs.msdn.com/branbray/">Brandon Bray</a>. Herb was responsible for much of the syntax innovations such as context sensitive keywords (ref class), and Brandon was responsible for writing the language specification and probably knows more about language design details than anyone else.</p>
	</blockquote>

    
  <p class="meta">Posted in <a href="/articles/category/thoughts" rel="category tag">Thoughts</a>&nbsp;<strong>|</strong>&nbsp;<a href="/articles/2005/11/01/why-another-ruby-to-clr-bridge#comments">1 comment</a></p> 
  </div>


          <script type="text/javascript">show_dates_as_local_time()</script>
        </div>
        <div id="sidebar">
          <form action="/articles/search" id="sform" method="get">
 <h3><label for="q">Search: </label></h3><input type="text" id="q" name="q" value="" size="15" />
<img alt="Spinner-blue" id="search_spinner" src="/images/spinner-blue.gif" style="display:none;" />
</form>

          <div id="search-results"></div>
          <script type="text/javascript">new Form.Element.Observer('q', 1, function(element, value) {new Ajax.Updater('search-results', '/live/search', {asynchronous:true, evalScripts:true, onComplete:function(request){Element.hide('search_spinner')}, onLoading:function(request){Element.show('search_spinner')}, parameters:value})})</script>          
            <h3>Syndicate</h3>
<ul>
    <li><a href="http://feeds.feedburner.com/LessIsBetter" title="RSS 2.0 feed">Articles</a></li>
  
    <li><a href="http://feeds.feedburner.com/LessIsBetterComments" title="Comments RSS 2.0 feed">Comments</a></li>
  
  
</ul>

    <div id="delicious">
    <h3><a href='http://del.icio.us/drjflam'>My recent del.icio.us links</a></h3>
    <ul>
              <li><a href="http://www.iunknown.com/articles/2006/03/16/third-drop-of-rubyclr" title="For the archives">Third Drop of RubyCLR </a></li>
              <li><a href="http://www.winxponmac.com/" title="Wahoo! Once Apple ships a 12" MacBook Pro with 1400 x 1050 and a Merom CPU I'm all over it.">Windows XP now boots on an Intel Duo Core Mac </a></li>
              <li><a href="http://video.google.com/videoplay?docid=-199899523054020719&amp;q=linux" title="Wow. This video of vista-esque effects in Linux is seriously impressive.">Novell Linux 10 xgl Technology Demonstration </a></li>
              <li><a href="http://www.pro-networks.org/forum/about71695-0-asc-10.html&amp;sid=f821da51db26b693a7066fc7fa8644eb" title="This is the thing that's been blocking me installing Vista 5308 on my Opteron desktop. Apparently you have to install XP first to a partition and then upgrade.">Installing Vista 5308 on NVIDIA SATA RAID </a></li>
              <li><a href="http://video.google.com/videoplay?docid=-6909078385965257294" title="Wow. Wow. Wow. One of the most insightful talks that I've seen this year.">"All Marketers are Liars" - Seth Godin speaks at Google </a></li>
              <li><a href="http://home.allegiance.tv/~joem298/" title="How to reinstall your Windows XP image on a Toshiba M200 using a PXE server">PXE Booting your M200 to DOS </a></li>
              <li><a href="http://sports.espn.go.com/espn/page2/story?page=simmons/060302" title="A couple of great writers that I admire interview each other.">Bill Simmons interviews Malcolm Gladwell on ESPN </a></li>
              <li><a href="http://www.pbenz.com/switch/archives/2005/03/changing_key_bi.html" title="One of the things that really frustrated me is the inconsistency of some keybindings between OS X and Windows. This is a cool script that maps them back to something I'm more used to.">Windows - friendly Key Bindings on Mac OS X </a></li>
              <li><a href="http://weblog.rubyonrails.com/articles/2006/03/01/new-for-rails-1-1-integration-tests" title="Is this just me, or are these integration tests just a model of clarity?">Integration Tests in Rails 1.1 </a></li>
              <li><a href="http://www.engadget.com/2006/02/27/wwjd-3-results/" title="Today's Mac mini announcements were pretty lame. Now these are some products that I want!">WWJD 3 - Results (What Would Jobs Do?) </a></li>
              <li><a href="http://webcast.berkeley.edu/courses/feeds.php" title="I'm listening to lots of podcasts as I walk around carrying Ben in the evenings. Lots of good material here.">UC Berkeley courses as webcasts </a></li>
          </ul>
  </div>

  <div id="flickr">
<h3>John Lam's Photos (<a href="http://www.flickr.com/photos/23649168@N00/">flickr</a>)</h3>
  <div class="flickrsquare"><a href="http://www.flickr.com/photos/23649168@N00/110674297/"><img alt="RubyCLR irb session" src="http://static.flickr.com/44/110674297_303908d4cd_s.jpg" /></a>
</div>
    <div class="flickrsquare"><a href="http://www.flickr.com/photos/23649168@N00/102769655/"><img alt="Google Calculator using RubyCLR" src="http://static.flickr.com/27/102769655_160658c51e_s.jpg" /></a>
</div>
    <div class="flickrsquare"><a href="http://www.flickr.com/photos/23649168@N00/102353551/"><img alt="RSS Reader in Ruby" src="http://static.flickr.com/43/102353551_a14d82507d_s.jpg" /></a>
</div>
    <div class="flickrsquare"><a href="http://www.flickr.com/photos/23649168@N00/105005076/"><img alt="Ben's Funny Look" src="http://static.flickr.com/38/105005076_f528bbd27f_s.jpg" /></a>
</div>
  </div>

  
<h3>Archives</h3>
<ul id="archives">
  
    <li>
      <a href="/articles/2006/03">March 2006</a>
      <em>(10)</em>
    </li>
  
    <li>
      <a href="/articles/2006/02">February 2006</a>
      <em>(25)</em>
    </li>
  
    <li>
      <a href="/articles/2006/01">January 2006</a>
      <em>(9)</em>
    </li>
  
    <li>
      <a href="/articles/2005/12">December 2005</a>
      <em>(22)</em>
    </li>
  
    <li>
      <a href="/articles/2005/11/01">November 2005</a>
      <em>(18)</em>
    </li>
  
    <li>
      <a href="/articles/2005/10">October 2005</a>
      <em>(7)</em>
    </li>
  
</ul>


  <h3>Categories</h3>
<ul id="categories">
  
  <li><a href="/articles/category/personal">Life</a> <em>(8)</em></li>
  
  
  <li><a href="/articles/category/links">Props</a> <em>(17)</em></li>
  
  
  <li><a href="/articles/category/thoughts">Thoughts</a> <em>(66)</em></li>
  
</ul>


  <h3>Links</h3>
<ul>
  <li><a href="/pages/about_me">About me</a></li>
  <li><a href="http://www.objectsharp.com">My company</a></li>
  <li><a href="http://www.rubyonrails.com">Rails</a></li>
</ul>

Posts that contain <a href="http://technorati.com/search/RubyCLR">RubyCLR</a> per day for the last 30 days.<br /><a href="http://technorati.com/search/RubyCLR"><img src="http://technorati.com/chartimg/%28RubyCLR%29?totalHits=38&size=s&days=30" style="border:0" alt="Technorati Chart" /></a>



          <a class="powered" href="http://typo.leetsoft.com/"><img alt="Powered" src="/images/powered.gif" /></a>
        </div>
        <br clear="all" />
      </div>
      <div id="footer">
        <ul>
          <li><a href="http://validator.w3.org/check?uri=referer">Valid XHTML 1.0</a></li>
          <li><a href="http://jigsaw.w3.org/css-validator/validator?uri=http://www.iunknown.com/">Valid CSS</a></li>
        </ul>
      </div>
  </div>
</body>
</html>
